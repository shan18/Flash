(this.webpackJsonpflash=this.webpackJsonpflash||[]).push([[0],{211:function(e,t,a){},213:function(e,t,a){},314:function(e,t,a){},315:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a(2),r=a.n(s),c=a(32),i=a.n(c),o=a(16),l=a(25),m=a(153),u=a(9),d=a(10),j=a(13),p=a(12),b=a(27),h=a(38),O=a(39),x=Object(O.a)({basename:"/Flash"}),f=a(28),g=a(46),y=a(22),v=a.n(y),N=a(30),k=a(35),C="SET_NAV_LINKS",T="SET_MOBILE",w="SET_HOME",S="CLEAR_HOME",L="LOADING_FORM",I="CLEAR_LOADING_FORM",F="SET_FORM_FILE_FIELD_LABEL",D="CLEAR_FORM_FILE_FIELD_LABEL",M="TRAIN_TOKEN_SET",P="TRAIN_TOKEN_CLEAR",z="IC_CONFIG",R="IC_MODEL_TYPE",E="IC_DATA_SPLIT",_="IC_ADD_CLASS",A="IC_DELETE_CLASS",U="IC_CURRENT_CLASS",B="IC_ADD_IMAGES",G="IC_DATA_CLEAR",V="IC_CLEAR",H="TC_CONFIG",q="TC_RNN_TYPE",Y="TC_DATA_SPLIT",W="TC_DATA_ADD",$="TC_DATA_CLEAR",J="TC_CLEAR",X="INFERENCE_CONFIG_SET",K="INFERENCE_CONFIG_CLEAR",Z="INFERENCE_SUBMIT",Q="INFERENCE_DOWNLOAD_SET_PYTORCH",ee="INFERENCE_DOWNLOAD_CLEAR_PYTORCH",te="INFERENCE_DOWNLOAD_SET_ONNX",ae="INFERENCE_DOWNLOAD_CLEAR_ONNX",ne="INFERENCE_PREDICTION_CLEAR",se="INFERENCE_CLEAR",re="PLAYGROUND_SUBMIT",ce=a(36),ie=a(62),oe=a.n(ie),le=oe.a.create({baseURL:"https://1tyzrad9g7.execute-api.us-east-1.amazonaws.com/dev",headers:{post:{"Content-Type":"multipart/form-data"}}}),me=oe.a.create({baseURL:"https://6yjieipsd1.execute-api.us-east-1.amazonaws.com/dev",headers:{post:{"Content-Type":"multipart/form-data"}}}),ue=oe.a.create({headers:{post:{"Content-Type":"multipart/form-data"}}}),de=function(){var e=Object(N.a)(v.a.mark((function e(t){var a,n,s,r,c,i,o,l;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.url,n=t.formData,s=t.requestType,r=t.maxNumTries,c=t.apiType,i=null,o=0,l=me,"train"===c&&(l=le),r||(r=1);case 6:if(!(o>=0&&o<r)){e.next=26;break}if(e.prev=7,"post"!==s){e.next=14;break}return e.next=11,l.post(a,n);case 11:i=e.sent,e.next=17;break;case 14:return e.next=16,l.get(a);case 16:i=e.sent;case 17:o=-1,e.next=24;break;case 20:e.prev=20,e.t0=e.catch(7),console.log(e.t0),o++;case 24:e.next=6;break;case 26:return e.abrupt("return",i);case 27:case"end":return e.stop()}}),e,null,[[7,20]])})));return function(t){return e.apply(this,arguments)}}(),je=function(){var e=Object(N.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de({url:"/status",requestType:"get",apiType:"train"});case 2:return t=e.sent,e.abrupt("return","active"!==t.data.status);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),pe=function(e){h.b.dark(Object(n.jsxs)("div",{children:[Object(n.jsx)(ce.b,{size:25,color:"yellow"}),"\xa0 ",e]}))},be=function(e){if(e&&e.data){if("success"===e.data.result)return!0;"error"===e.data.result?pe(e.data.message):pe("500: Internal Server Error!")}else pe("500: Internal Server Error!");return!1},he=function(){var e=Object(N.a)(v.a.mark((function e(t){var a,n,s,r,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.url,n=t.formData,s=t.requestType,r=null,c=0;case 3:if(!(c>=0&&c<=2)){e.next=23;break}if(e.prev=4,"post"!==s){e.next=11;break}return e.next=8,ue.post(a,n);case 8:r=e.sent,e.next=14;break;case 11:return e.next=13,ue.get(a);case 13:r=e.sent;case 14:c=-1,e.next=21;break;case 17:e.prev=17,e.t0=e.catch(4),console.log(e.t0),c++;case 21:e.next=3;break;case 23:return e.abrupt("return",r);case 24:case"end":return e.stop()}}),e,null,[[4,17]])})));return function(t){return e.apply(this,arguments)}}(),Oe=function(e){return{type:L,payload:e}},xe=function(e){return{type:I,payload:e}},fe=function(e){return{type:D,payload:e}},ge=function(){return{type:P}},ye=function(e){var t=e.taskName,a=e.config;return{type:"imageClassification"===t?z:H,payload:a}},ve=function(e){return function(t){t(fe(e)),t({type:"imageClassification"===e?G:$})}},Ne=function(e){return function(t){t(fe(e)),t({type:"imageClassification"===e?V:J})}},ke=function(e){var t=e.formName,a=e.trainConfig;return function(){var e=Object(N.a)(v.a.mark((function e(n){var s,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t&&n(Oe(t)),e.next=3,je();case 3:if(!e.sent){e.next=13;break}return(s=new FormData).append("training_data",JSON.stringify(a)),e.next=9,de({url:"/train",formData:s,requestType:"post",apiType:"train"});case 9:r=e.sent,be(r)&&(n({type:M,payload:r.data.token}),n(Object(k.a)(t))),e.next=14;break;case 13:pe("Server is currently training another model! Please try again after a few minutes.");case 14:t&&n(xe(t));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Ce=function(e){var t=e.url,a=e.formName,n=e.formData;return function(){var e=Object(N.a)(v.a.mark((function e(s){var r,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a&&s(Oe(a)),e.next=3,he({url:t,formData:n,requestType:"post"});case 3:r=e.sent,c=r,r&&(c=r.data),s({type:re,payload:{name:a,data:c}}),a&&s(xe(a));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Te=a(17),we=a.n(Te),Se=a(5),Le=a(3),Ie=a(26),Fe=a(154),De=a(7),Me=a(33),Pe=(a(81),function(e){Object(j.a)(a,e);var t=Object(p.a)(a);function a(e){var s;return Object(u.a)(this,a),(s=t.call(this,e)).modalCardContent=[{title:"Training",targetUrl:"/training",contentImage:"".concat("/Flash","/assets/media/training.gif"),contentText:Object(n.jsxs)(n.Fragment,{children:["Train an"," ",Object(n.jsx)("mark",{children:Object(n.jsx)("b",{children:"Image Classification"})})," ","or"," ",Object(n.jsx)("mark",{children:Object(n.jsx)("b",{children:"Text Classification"})})," ","model on your custom dataset."]}),buttonText:"Choose Task"},{title:"Inference",targetUrl:"/inference",contentImage:"".concat("/Flash","/assets/media/inference.gif"),contentText:"Already trained a model on Flash? Choose this to test your model.",buttonText:"Test Model"}],s}return Object(d.a)(a,[{key:"renderCardContent",value:function(e){var t=e.title,a=e.targetUrl,s=e.contentImage,r=e.contentText,c=e.buttonText;return Object(n.jsxs)(De.a,{className:"card-hover",children:[Object(n.jsx)(De.a.Img,{src:s,variant:"top",style:{height:"24vh"},alt:t}),Object(n.jsxs)(De.a.Body,{children:[Object(n.jsx)(De.a.Title,{className:"text-center",style:{fontSize:"2.3vh"},children:t}),Object(n.jsx)(De.a.Text,{className:"my-4",children:r}),Object(n.jsx)("div",{className:"text-center",children:Object(n.jsx)(Ie.a,{variant:"info",as:Me.a,to:a,children:c})})]})]},a)}},{key:"renderContent",value:function(){var e=this;return Object(n.jsx)(Fe.a,{className:"px-0 px-md-5",children:we.a.map(this.modalCardContent,(function(t){return e.renderCardContent(t)}))})}},{key:"render",value:function(){return i.a.createPortal(Object(n.jsx)("div",{className:"modal-container",onClick:this.props.onDismiss,children:Object(n.jsxs)("div",{className:"modal-body",onClick:function(e){return e.stopPropagation()},children:[Object(n.jsx)("h3",{className:"text-center",children:"Get Started"}),Object(n.jsx)("hr",{className:"w-100 mb-4"}),this.renderContent(),Object(n.jsx)("hr",{className:"w-100 mt-4"}),Object(n.jsx)(Se.a,{children:Object(n.jsx)(Le.a,{className:"text-right",children:Object(n.jsx)(Ie.a,{variant:"warning",className:"mr-2",onClick:this.props.onDismiss,children:"Go Back"})})})]})}),document.querySelector("#modal"))}}]),a}(r.a.Component)),ze=(a(211),function(e){Object(j.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={displayModal:!1},e.toggleModal=function(){e.setState({displayModal:!e.state.displayModal})},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.props.setHome()}},{key:"componentWillUnmount",value:function(){this.props.clearHome()}},{key:"renderModal",value:function(){return Object(n.jsx)(n.Fragment,{children:this.state.displayModal?Object(n.jsx)(Pe,{onDismiss:this.toggleModal}):""})}},{key:"render",value:function(){var e=this;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("header",{children:[Object(n.jsx)("div",{className:"overlay"}),Object(n.jsx)("video",{playsInline:"playsinline",autoPlay:"autoplay",muted:"muted",children:Object(n.jsx)("source",{src:"".concat("/Flash","/assets/media/home.mp4"),type:"video/mp4"})}),Object(n.jsx)(f.a,{className:"h-100",children:Object(n.jsx)("div",{className:"d-flex h-100 text-center align-items-center",children:Object(n.jsxs)("div",{className:"w-100 text-white",children:[Object(n.jsxs)("h1",{style:{fontSize:this.props.isMobile?"3rem":"5rem"},children:[Object(n.jsx)(g.a,{src:"".concat("/Flash","/flash.svg"),style:{height:"10vh"},alt:"flash-logo"})," ","F L A S H"]}),Object(n.jsx)("button",{className:"btn btn-outline-light mt-5",onClick:function(){return e.toggleModal()},children:"Get Started"})]})})})]}),this.renderModal()]})}}]),a}(r.a.Component)),Re=Object(o.b)((function(e){return{isMobile:e.isMobile}}),{setHome:function(){return{type:w}},clearHome:function(){return{type:S}}})(ze),Ee=a(77),_e=a(55),Ae=function(e){Object(j.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).toggleNavbar=function(){n.setState({expanded:!n.state.expanded})},n.closeNavbar=function(){n.setState({expanded:!1})},n.navItems=[{name:"Training",id:"training"},{name:"Inference",id:"inference"},{name:"Playground",id:"playground"},{name:"About",id:"about"}],n.state={expanded:!1},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.props.setNavLinks(this.navItems)}},{key:"renderNavItem",value:function(e){var t=e.name,a=e.id;return Object(n.jsx)(_e.a.Link,{as:Me.a,className:this.props.history.location.pathname.substring(1)===a?"active":"",to:"/".concat(a),onClick:this.closeNavbar,children:t},a)}},{key:"render",value:function(){var e=this;return Object(n.jsx)(Ee.a,{expand:"md",variant:"dark",expanded:this.state.expanded,fixed:this.props.isHome?"top":"",style:{backgroundColor:"black"},children:Object(n.jsxs)(f.a,{children:[Object(n.jsxs)(Ee.a.Brand,{as:Me.a,to:"/",onClick:this.closeNavbar,children:[Object(n.jsx)(g.a,{src:"".concat("/Flash","/flash.svg"),style:{height:"2rem"},className:"mr-2",alt:"flash logo"})," ","F L A S H"]}),Object(n.jsx)(Ee.a.Toggle,{"aria-controls":"navbar-navigation",onClick:this.toggleNavbar}),Object(n.jsx)(Ee.a.Collapse,{id:"navbar-navigation",children:Object(n.jsx)(_e.a,{className:"ml-auto",children:this.navItems.map((function(t){return e.renderNavItem(t)}))})})]})})}}]),a}(r.a.Component),Ue=Object(o.b)((function(e){return{isHome:e.isHome}}),{setNavLinks:function(e){return{type:C,payload:e}}})(Object(b.f)(Ae)),Be=(a(213),function(e){Object(j.a)(a,e);var t=Object(p.a)(a);function a(e){var s;return Object(u.a)(this,a),(s=t.call(this,e)).renderFooterBrand=function(){return Object(n.jsxs)(Le.a,{xs:12,md:3,className:"text-center ".concat(s.props.isMobile?"mb-5 mt-3":"my-auto"),children:[Object(n.jsx)(g.a,{src:"".concat("/Flash","/flash.svg"),style:{height:"5vh"},alt:"flash logo"}),Object(n.jsx)("span",{style:{fontSize:"2rem"},children:"F L A S H"})]})},s.developerSocialMedia=[{title:"Website",url:"https://www.shantanuacharya.com/"},{title:"GitHub",url:"https://github.com/shan18"},{title:"LinkedIn",url:"https://www.linkedin.com/in/shanacharya/"},{title:"Instagram",url:"https://www.instagram.com/shan_1.0/"}],s}return Object(d.a)(a,[{key:"renderNavItem",value:function(e){var t=e.name,a=e.id;return"external"===e.type?Object(n.jsx)(_e.a.Link,{href:a,target:"_blank",style:{color:"white"},children:t},t):Object(n.jsx)(_e.a.Link,{as:Me.a,to:"/".concat(a),onClick:function(){return window.scrollTo(0,0)},style:{color:"white"},children:t},a)}},{key:"renderNavColumn",value:function(e){var t=this,a=e.title,s=e.items;return Object(n.jsx)(Le.a,{xs:12,md:2,className:this.props.isMobile?"mb-5 text-center":"",children:Object(n.jsxs)(_e.a,{className:"flex-column",variant:"dark",children:[Object(n.jsx)(_e.a.Link,{disabled:!0,className:"mb-1",style:{color:"white"},children:Object(n.jsx)("b",{children:a})}),s.map((function(e){return t.renderNavItem(e)}))]})},a)}},{key:"renderNavColums",value:function(){var e=this;return[{title:"LINKS",items:[{name:"Code",id:"https://github.com/shan18/Flash",type:"external"},{name:"Social",id:"https://www.linkedin.com/posts/shanacharya_deeplearning-ai-machinelearning-activity-6756135082655936512-BYV6",type:"external"}]},{title:"FLASH",items:this.props.navigationLinks},{title:"DEVELOPER",items:this.developerSocialMedia.map((function(e){return{name:e.title,id:e.url,type:"external"}}))}].map((function(t){return e.renderNavColumn(t)}))}},{key:"render",value:function(){return Object(n.jsx)(n.Fragment,{children:this.props.isHome?"":Object(n.jsxs)("footer",{className:"mt-5",children:[Object(n.jsx)(f.a,{children:Object(n.jsxs)(Se.a,{children:[this.renderFooterBrand(),Object(n.jsx)(Le.a,{}),this.props.navigationLinks?this.renderNavColums():""]})}),Object(n.jsx)(f.a,{fluid:!0,children:Object(n.jsx)("hr",{className:"text-muted",style:{border:"1px solid white",opacity:"0.2"}})}),Object(n.jsx)(f.a,{children:Object(n.jsx)(Se.a,{children:Object(n.jsx)(Le.a,{className:"text-center",children:Object(n.jsx)("p",{className:"text-muted",children:"\xa9 2021 Flash - All Rights Reserved."})})})})]})})}}]),a}(r.a.Component)),Ge=Object(o.b)((function(e){return{isHome:e.isHome,navigationLinks:e.navigationLinks,isMobile:e.isMobile}}))(Be),Ve=function(e){Object(j.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"renderButton",value:function(e){var t=this,a="",s="";return e instanceof Object?(a=e.buttonValue,s=e.buttonText):(a=e,s=e),Object(n.jsx)(Ie.a,{variant:this.props.currentButtonValue===a?"primary":"",size:this.props.isSmall?"sm":"",className:"border border-secondary mx-2 my-2 btn-hover",onClick:function(e){e.preventDefault(),t.props.changeCurrentButtonValue(a)},children:void 0===s?a:s},a)}},{key:"render",value:function(){var e=this;return Object(n.jsx)(n.Fragment,{children:we.a.map(this.props.hoverButtons,(function(t){return e.renderButton(t)}))})}}]),a}(r.a.Component),He=a(4),qe=a(24),Ye=a(67),We=a(116),$e=function(e){return Object(n.jsxs)(Se.a,{children:[Object(n.jsx)(Le.a,{className:"text-center",children:Object(n.jsx)("h4",{className:"heading",children:e})}),Object(n.jsx)(Le.a,{className:"text-center",children:Object(n.jsx)(We.a,{animation:"grow",size:"md",role:"status"})})]})},Je=function(e){return new Promise((function(t,a){var n=new FileReader;n.readAsDataURL(e),n.onload=function(){return t(n.result)},n.onerror=function(e){return a(e)}}))},Xe=function(e){return e.replace("data:","").replace(/^.+,/,"")},Ke=function(e){var t=e.touched,a=e.error;return"".concat(t&&a?"is-invalid":"")},Ze=function(e){var t=e.error;if(e.touched&&t)return Object(n.jsx)("div",{className:"invalid-feedback",children:t})},Qe=function(e){var t=e.input,a=e.label,s=e.type,r=e.placeholder,c=e.textAppend,i=e.enableAppendSumbit,o=e.readOnly,l=e.meta;return Object(n.jsxs)(n.Fragment,{children:[a?Object(n.jsx)(qe.a.Label,{children:a}):"",Object(n.jsxs)(Ye.a,{className:Ke(l),children:[Object(n.jsx)(qe.a.Control,Object(He.a)(Object(He.a)({},t),{},{type:s,placeholder:r,autoComplete:"off",readOnly:o})),c?Object(n.jsx)("div",{className:"input-group-append",children:i?Object(n.jsx)(Ie.a,{type:"submit",variant:"danger",children:c}):Object(n.jsx)(Ie.a,{type:"submit",variant:"danger",onClick:function(e){return e.preventDefault},children:c})}):""]}),Ze(l)]})},et=function(e){var t=e.input,a=e.contentType,s=e.type,r=e.placeholder,c=e.label,i=e.options,o=e.acceptFileFormat,l=e.multiple,m=e.textAppend,u=e.enableAppendSumbit,d=e.isFixed,j=e.formGroupClassName,p=e.required,b=e.meta;return"text"===a?function(e){var t=e.input,a=e.label,s=e.type,r=e.placeholder,c=e.textAppend,i=e.enableAppendSumbit,o=e.readOnly,l=e.formGroupClassName,m=e.meta;return Object(n.jsx)(qe.a.Group,{className:l,children:Qe({input:t,label:a,type:s,placeholder:r,textAppend:c,enableAppendSumbit:i,readOnly:o,meta:m})})}({input:t,label:c,type:s,placeholder:r,textAppend:m,enableAppendSumbit:u,readOnly:d,formGroupClassName:j,meta:b}):"dropdown"===a?function(e){var t=e.input,a=e.label,s=e.options,r=e.formGroupClassName,c=e.meta;return Object(n.jsxs)(qe.a.Group,{className:r,children:[a?Object(n.jsx)(qe.a.Label,{children:a}):"",Object(n.jsx)(Ye.a,{className:Ke(c),children:Object(n.jsxs)(qe.a.Control,Object(He.a)(Object(He.a)({as:"select"},t),{},{className:"custom-select",children:[s.default?Object(n.jsx)("option",{value:"",children:s.default}):"",we.a.map(s,(function(e,t){return"default"!==t?Object(n.jsx)("option",{value:t,children:"string"===typeof e?e:e[0]},t):""}))]}))}),Ze(c)]})}({input:t,label:c,options:i,formGroupClassName:j,meta:b}):"file"===a?function(e){var t=e.input,a=e.label,s=e.acceptFileFormat,r=e.multiple,c=e.formGroupClassName,i=e.meta,o=r||!1;return Object(n.jsxs)(qe.a.Group,{className:c,children:[Object(n.jsxs)("div",{className:"custom-file ".concat(Ke(i)),children:[Object(n.jsx)(qe.a.Label,{className:"custom-file-label text-left",children:a}),Object(n.jsx)("input",Object(He.a)(Object(He.a)({},we.a.omit(t,"value")),{},{type:"file",className:"custom-file-input",multiple:o,accept:s}))]}),Ze(i)]})}({input:t,label:c,acceptFileFormat:o,multiple:l,formGroupClassName:j,meta:b}):"switch"===a?function(e){var t=e.input,a=e.label,s=e.formGroupClassName,r=e.meta;return Object(n.jsxs)(qe.a.Group,{className:s,children:[Object(n.jsxs)("div",{className:"custom-control custom-switch ".concat(Ke(r)),children:[Object(n.jsx)("input",Object(He.a)(Object(He.a)({},t),{},{type:"checkbox",className:"custom-control-input",id:"custom-switch-input-".concat(a.split(" ")[0])})),Object(n.jsx)(qe.a.Label,{className:"custom-control-label",htmlFor:"custom-switch-input-".concat(a.split(" ")[0]),children:a})]}),Ze(r)]})}({input:t,label:c,formGroupClassName:j,meta:b}):"fileField"===a?function(e){var t=e.input,a=e.label,s=e.required,r=e.formGroupClassName,c=e.meta,i="".concat(s&&c.touched&&c.error?"is-invalid":"");return Object(n.jsxs)(qe.a.Group,{className:r,children:[Object(n.jsx)(qe.a.Label,{children:a}),Object(n.jsx)(Ye.a,{className:i,children:Object(n.jsx)("input",Object(He.a)(Object(He.a)({},we.a.omit(t,"value")),{},{type:"file",className:"form-control-file"}))}),Ze(c)]})}({input:t,label:c,required:p,formGroupClassName:j,meta:b}):""},tt=function(e){var t=e.loading,a=e.originalText,s=e.loadingText,r=e.onClick,c=e.btnColor,i=e.size,o=e.type,l=e.ref;return i||(i=""),o||(o="submit"),c||(c="primary"),t?Object(n.jsxs)(Ie.a,{variant:c,type:o,ref:l,size:i,disabled:!0,children:[Object(n.jsx)(We.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}),"\xa0\xa0",s]}):Object(n.jsx)(Ie.a,{variant:c,type:o,ref:l,size:i,onClick:r,children:a})},at=a(149),nt=a(150),st=function(e){Object(j.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={reduceLrOnPlateau:!1,stepLr:!1},e.toggleReduceLr=function(){e.setState({reduceLrOnPlateau:!e.state.reduceLrOnPlateau})},e.toggleStepLr=function(){e.setState({stepLr:!e.state.stepLr})},e.changeModelType=function(t){e.props.setTrainModelType({taskName:e.props.taskName,modelType:t})},e.changeDataSplit=function(t){e.props.setTrainDataSplit({taskName:e.props.taskName,dataSplit:t})},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this,t=this.props.configOptions,a=t.batchSizeLimit,s=a.min,r=a.max,c=t.numEpochsLimit,i=c.min,o=c.max;return Object(n.jsxs)(qe.a,{onSubmit:this.props.handleSubmit,children:[Object(n.jsx)(Se.a,{children:Object(n.jsx)(Le.a,{className:"mx-auto",children:Object(n.jsx)(at.a,{name:"taskName",component:et,contentType:"text",placeholder:"Enter Task Name",formGroupClassName:"text-center",label:Object(n.jsx)("h4",{children:"Task Name"})})})}),Object(n.jsxs)(Se.a,{className:"mt-5",children:[Object(n.jsxs)(Le.a,{xs:12,md:6,className:"mr-auto text-center",children:[Object(n.jsx)("h4",{className:"mb-2",children:this.props.configOptions.modelFieldTitle}),Object(n.jsx)(Ve,{hoverButtons:this.props.configOptions.modelTypes,currentButtonValue:this.props.currentConfig.modelType,changeCurrentButtonValue:this.changeModelType,isSmall:!0})]}),Object(n.jsxs)(Le.a,{xs:12,md:4,className:"ml-auto mt-5 mt-md-0 text-center",children:[Object(n.jsx)("h4",{className:"mb-2",children:"Dataset Split"}),Object(n.jsx)(Ve,{hoverButtons:this.props.configOptions.dataSplit,currentButtonValue:this.props.currentConfig.dataSplit,changeCurrentButtonValue:this.changeDataSplit,isSmall:!0})]})]}),this.props.configOptions.pretrainDatasets?Object(n.jsx)(Se.a,{className:"mt-5",children:Object(n.jsx)(Le.a,{xs:12,md:6,className:"mx-auto text-center",children:Object(n.jsx)(at.a,{name:"pretrainDataset",component:et,contentType:"dropdown",label:"Transfer Learning",options:this.props.configOptions.pretrainDatasets})})}):"",Object(n.jsx)(Se.a,{className:"mt-5",children:Object(n.jsx)(Le.a,{xs:12,md:6,className:"mx-auto text-center",children:Object(n.jsx)("h4",{className:"mb-2",children:"Callbacks"})})}),Object(n.jsx)(Se.a,{className:"mt-2",children:Object(n.jsx)(Le.a,{xs:12,md:6,className:"mx-auto text-center",children:Object(n.jsx)(at.a,{name:"reduceLrOnPlateau",component:et,contentType:"switch",label:"Reduce LR on Plateau",onChange:function(){return e.toggleReduceLr()}})})}),this.state.reduceLrOnPlateau?Object(n.jsxs)(qe.a.Group,{as:Se.a,className:"mt-1 mb-5",children:[Object(n.jsx)(Le.a,{xs:12,md:4,className:"text-center",children:Object(n.jsx)(at.a,{name:"reduceLrOnPlateauPatience",component:et,contentType:"text",label:"Patience",placeholder:"Enter Patience"})}),Object(n.jsx)(Le.a,{xs:12,md:4,className:"my-3 my-md-0 text-center",children:Object(n.jsx)(at.a,{name:"reduceLrOnPlateauFactor",component:et,contentType:"text",label:"Factor",placeholder:"Enter Factor"})}),Object(n.jsx)(Le.a,{xs:12,md:4,className:"text-center",children:Object(n.jsx)(at.a,{name:"reduceLrOnPlateauMinLr",component:et,contentType:"text",label:"Minimum LR",placeholder:"Enter Min LR"})})]}):"",Object(n.jsx)(Se.a,{className:"mt-2",children:Object(n.jsx)(Le.a,{xs:12,md:6,className:"mx-auto text-center",children:Object(n.jsx)(at.a,{name:"stepLr",component:et,contentType:"switch",label:"Step LR",onChange:function(){return e.toggleStepLr()}})})}),this.state.stepLr?Object(n.jsxs)(qe.a.Group,{as:Se.a,className:"mt-1 mb-5",children:[Object(n.jsx)(Le.a,{xs:12,md:6,className:"text-center",children:Object(n.jsx)(at.a,{name:"stepLrStepSize",component:et,contentType:"text",label:"Step Size",placeholder:"Enter Step Size"})}),Object(n.jsx)(Le.a,{xs:12,md:6,className:"my-3 my-md-0 text-center",children:Object(n.jsx)(at.a,{name:"stepLrGamma",component:et,contentType:"text",label:"Gamma",placeholder:"Enter Gamma"})})]}):"",Object(n.jsx)(Se.a,{className:"mt-5",children:Object(n.jsx)(Le.a,{xs:12,md:6,className:"mx-auto text-center",children:Object(n.jsx)("h4",{className:"mb-2",children:"Hyperparameters"})})}),Object(n.jsxs)(qe.a.Group,{as:Se.a,className:"my-5",children:[Object(n.jsx)(Le.a,{xs:12,md:6,className:"text-center",children:Object(n.jsx)(at.a,{name:"optimizer",component:et,contentType:"dropdown",label:"Optimizer",options:this.props.configOptions.optimizers})}),Object(n.jsx)(Le.a,{xs:12,md:6,className:"mt-3 mt-md-0 text-center",children:Object(n.jsx)(at.a,{name:"learningRate",component:et,contentType:"text",label:"Learning Rate",placeholder:"Enter LR"})})]}),Object(n.jsxs)(qe.a.Group,{as:Se.a,children:[Object(n.jsx)(Le.a,{xs:12,md:6,className:"text-center",children:Object(n.jsx)(at.a,{name:"batchSize",component:et,contentType:"text",label:"Batch Size",placeholder:"Range: ".concat(s," - ").concat(r)})}),Object(n.jsx)(Le.a,{xs:12,md:6,className:"mt-3 mt-md-0 text-center",children:Object(n.jsx)(at.a,{name:"epochs",component:et,contentType:"text",label:"Epochs",placeholder:"Range: ".concat(i," - ").concat(o)})})]})]})}}]),a}(r.a.Component),rt=Object(o.b)((function(e,t){var a=e[t.taskName],n=a.configOptions,s=a.currentConfig;return{configOptions:n,currentConfig:s,initialValues:s}}),{setTrainModelType:function(e){var t=e.taskName,a=e.modelType;return{type:"imageClassification"===t?R:q,payload:a}},setTrainDataSplit:function(e){var t=e.taskName,a=e.dataSplit;return{type:"imageClassification"===t?E:Y,payload:a}}})(Object(nt.a)({validate:function(e,t){var a=t.configOptions,n={};if(e.taskName?/^[a-zA-Z0-9- ]+$/i.test(e.taskName)||(n.taskName="Task name can contain only alphabets, numbers, hyphens and spaces"):n.taskName="You must enter a task name",e.reduceLrOnPlateau){var s=a.reduceLrOnPlateauLimit,r=s.factor,c=s.patience,i=s.minLr,o=a.stepLrLimit,l=o.stepSize,m=o.gamma;e.reduceLrOnPlateauPatience?/^[0-9]+$/i.test(e.reduceLrOnPlateauPatience)?(e.reduceLrOnPlateauPatience<c.min||e.reduceLrOnPlateauPatience>c.max)&&(n.reduceLrOnPlateauPatience="Must be between ".concat(c.min," and ").concat(c.max)):n.reduceLrOnPlateauPatience="Must be an integer":n.reduceLrOnPlateauPatience="Enter a value",e.reduceLrOnPlateauFactor?/^[0-9]+(\.[0-9]+)*$/i.test(e.reduceLrOnPlateauFactor)?(e.reduceLrOnPlateauFactor<r.min||e.reduceLrOnPlateauFactor>r.max)&&(n.reduceLrOnPlateauFactor="Must be between ".concat(r.min," and ").concat(r.max)):n.reduceLrOnPlateauFactor="Enter a valid value":n.reduceLrOnPlateauFactor="Enter a value",e.reduceLrOnPlateauMinLr?/^[0-9]+(\.[0-9]+)*$/i.test(e.reduceLrOnPlateauMinLr)?e.reduceLrOnPlateauMinLr<i&&(n.reduceLrOnPlateauMinLr="Minimum value is ".concat(i)):n.reduceLrOnPlateauMinLr="Enter a valid value":n.reduceLrOnPlateauMinLr="Enter a value",e.stepLrStepSize?/^[0-9]+$/i.test(e.stepLrStepSize)?(e.stepLrStepSize<l.min||e.stepLrStepSize>l.max)&&(n.stepLrStepSize="Must be between ".concat(l.min," and ").concat(l.max)):n.stepLrStepSize="Must be an integer":n.stepLrStepSize="Enter a value",e.stepLrGamma?/^[0-9]+(\.[0-9]+)*$/i.test(e.stepLrGamma)?(e.stepLrGamma<m.min||e.stepLrGamma>m.max)&&(n.stepLrGamma="Must be between ".concat(m.min," and ").concat(m.max)):n.stepLrGamma="Enter a valid value":n.stepLrGamma="Enter a value"}var u=a.learningRateLimit,d=u.min,j=u.max;e.learningRate?/^[0-9]+(\.[0-9]+)*$/i.test(e.learningRate)?(e.learningRate<d||e.learningRate>j)&&(n.learningRate="Must be between ".concat(d," and ").concat(j)):n.learningRate="Enter a valid value":n.learningRate="You must enter a learning rate";var p=a.batchSizeLimit,b=p.min,h=p.max;e.batchSize?/^[0-9]+$/i.test(e.batchSize)?(e.batchSize<b||e.batchSize>h)&&(n.batchSize="Must be between ".concat(b," and ").concat(h)):n.batchSize="Batch size must be an integer":n.batchSize="You must enter a batch size";var O=a.numEpochsLimit,x=O.min,f=O.max;return e.epochs?/^[0-9]+$/i.test(e.epochs)?(e.epochs<x||e.epochs>f)&&(n.epochs="Must be between ".concat(x," and ").concat(f)):n.epochs="Number of epochs must be an integer":n.epochs="You must enter the number of epochs",n}})(st)),ct=a(76),it=function(e){Object(j.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={classValue:"",isSaved:!1},e.toggleSaveMode=function(){e.setState({isSaved:!e.state.isSaved})},e}return Object(d.a)(a,[{key:"onSubmit",value:function(){var e=this.state.isSaved;if(!e&&this.props.classList.includes(this.state.classValue))h.b.error(Object(n.jsxs)("div",{children:[Object(n.jsx)(ce.b,{size:25}),'\xa0 A class with name "',this.state.classValue,'" already exists!']}));else{var t=this.state.classValue;e?(this.props.icDeleteClass(t),this.setState({classValue:""})):this.props.icAddClass(t),this.toggleSaveMode()}}},{key:"componentDidMount",value:function(){this.props.initialData&&this.setState(Object(He.a)({},this.props.initialData))}},{key:"render",value:function(){var e=this;return Object(n.jsx)(qe.a,{onSubmit:function(t){t.preventDefault(),e.onSubmit()},className:"my-2",children:Object(n.jsxs)(Ye.a,{children:[Object(n.jsx)(qe.a.Control,{type:"text",placeholder:"Enter class name".concat(this.props.isOptionalField?" (optional)":""),autoComplete:"off",onChange:function(t){return e.setState({classValue:t.target.value})},value:this.state.classValue,readOnly:this.state.isSaved,pattern:"[a-zA-Z0-9 ]+",title:"Only alphabets, numbers and spaces are allowed",required:!0}),Object(n.jsx)("div",{className:"input-group-append",children:this.state.isSaved?Object(n.jsx)(Ie.a,{type:"submit",variant:"danger",children:Object(n.jsx)(ce.a,{})}):Object(n.jsx)(Ie.a,{type:"submit",variant:"outline-success",children:Object(n.jsx)(ct.a,{})})})]})})}}]),a}(r.a.Component),ot=Object(o.b)((function(e){var t=e.imageClassification.dataset;return{classList:we.a.keys(t)}}),{icAddClass:function(e){return{type:_,payload:e}},icDeleteClass:function(e){return{type:A,payload:e}}})(it),lt=function(e){Object(j.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"renderClassList",value:function(){var e=this;return we.a.map(we.a.range(0,this.props.numClassesLimit.max),(function(t){var a=t>=e.props.numClassesLimit.min,s=null;return t<e.props.classList.length&&(s={classValue:e.props.classList[t],isSaved:!0}),Object(n.jsx)(ot,{form:"classForm",isOptionalField:a,initialData:s},t)}))}},{key:"render",value:function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h4",{children:"Classes"}),Object(n.jsxs)("small",{children:["Number of classes must be within the"," ",Object(n.jsx)("mark",{children:Object(n.jsxs)("b",{children:["range ",this.props.numClassesLimit.min," -"," ",this.props.numClassesLimit.max]})})]}),this.renderClassList()]})}}]),a}(r.a.Component),mt=Object(o.b)((function(e){var t=e.imageClassification,a=t.dataset,n=t.configOptions.numClassesLimit;return{classList:we.a.keys(a),numClassesLimit:n}}))(lt),ut=function(e){Object(j.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props.classList;return Object(n.jsx)(qe.a,{children:Object(n.jsx)(Se.a,{className:"mt-3",children:Object(n.jsx)(Le.a,{xs:8,className:"mx-auto",children:Object(n.jsx)(at.a,{name:"classChoice",component:et,contentType:"dropdown",options:Object(He.a)({default:"Choose a class..."},we.a.zipObject(e,e))})})})})}}]),a}(r.a.Component),dt=Object(o.b)((function(e){var t=e.imageClassification.dataset;return{classList:we.a.keys(t)}}))(Object(nt.a)({form:"icClassChoiceForm",enableReinitialize:!0,onChange:function(e,t,a){a.submit()}})(ut)),jt=a(66),pt=function(e){Object(j.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return Object(n.jsx)(n.Fragment,{children:!this.props.currentClass||this.props.numImagesExceeded||this.props.sizeExceeded?"":Object(n.jsx)(qe.a,{children:Object(n.jsx)(Se.a,{className:"mt-3",children:Object(n.jsxs)(Le.a,{xs:10,xl:6,className:"mx-auto",children:[Object(n.jsx)(jt.a,{size:30,className:"mb-3"}),Object(n.jsx)(at.a,{name:"classImages",component:et,contentType:"file",label:"Choose File",acceptFileFormat:"image/jpeg,image/png",multiple:!0})]})})})})}}]),a}(r.a.Component),bt=Object(o.b)((function(e){var t=e.imageClassification,a=t.currentClass,n=t.dataset,s=t.datasetSize,r=t.configOptions,c=r.numImagesLimit.max,i=r.sizeLimit;return{currentClass:a,numImagesExceeded:!!n[a]&&n[a].length>=c,sizeExceeded:!!s[a]&&s[a]>=i}}))(Object(nt.a)({form:"icDataUploadForm",onChange:function(e,t,a){a.submit()}})(pt)),ht=function(e){Object(j.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"renderCard",value:function(e,t){return Object(n.jsx)(Le.a,{className:"mb-3",children:Object(n.jsx)(De.a,{className:"card-hover shadow bg-white rounded",style:{width:"5rem"},children:Object(n.jsx)(De.a.Img,{variant:"top",src:e,alt:"data-".concat(t)})})},t)}},{key:"render",value:function(){var e=this;return Object(n.jsx)(n.Fragment,{children:this.props.imgList?Object(n.jsx)(Se.a,{xs:3,lg:4,xl:6,className:"mt-5 mx-auto",children:we.a.map(this.props.imgList,(function(t,a){return e.renderCard(t,a)}))}):""})}}]),a}(r.a.Component),Ot=Object(o.b)((function(e){var t=e.imageClassification,a=t.currentClass;return{imgList:t.datasetPreview[a]}}))(ht),xt=function(e){Object(j.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var s=arguments.length,r=new Array(s),c=0;c<s;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).onClassChoiceSubmit=function(t){e.props.icCurrentClass(we.a.values(t)[0])},e.fileListToArray=function(t){var a=Array.from(t);return e.props.currentClassImgCount+a.length>e.props.numImagesLimit.max&&(a=a.slice(0,e.props.numImagesLimit.max-e.props.currentClassImgCount)),a},e.getImageListSize=function(e){var t=0;return e.length>0&&(t=we.a.sumBy(["size"],we.a.partial(we.a.sumBy,e))),t},e.imageListToBase64=function(){var e=Object(N.a)(v.a.mark((function e(t){var a,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[],n=0;case 2:if(!(n<t.length)){e.next=11;break}return e.t0=a,e.next=6,Je(t[n]);case 6:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 8:n++,e.next=2;break;case 11:return e.abrupt("return",a);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.removeBase64HeaderFromImageList=function(e){return we.a.map(e,(function(e){return Xe(e)}))},e.onDataUploadSubmit=function(){var t=Object(N.a)(v.a.mark((function t(a){var s,r,c;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=e.fileListToArray(we.a.values(a)[0]),r=e.getImageListSize(s),!(e.props.currentSize+r>=e.props.sizeLimit)){t.next=6;break}h.b.info(Object(n.jsxs)("div",{children:[Object(n.jsx)(ce.b,{size:25}),"\xa0 Cannot upload images. Total size of the images for this class are exceeding ",e.props.sizeLimit/1e6," MB."]})),t.next=12;break;case 6:if(!(s.length>0)){t.next=12;break}return t.next=9,e.imageListToBase64(s);case 9:c=t.sent,s=e.removeBase64HeaderFromImageList(c),e.props.icAddImages({imagesList:s,imagesListPreview:c,imagesListSize:r});case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(d.a)(a,[{key:"render",value:function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h4",{children:"Images"}),Object(n.jsxs)("small",{children:["Number of images for each class must be within the"," ",Object(n.jsx)("mark",{children:Object(n.jsxs)("b",{children:["range ",this.props.numImagesLimit.min," -"," ",this.props.numImagesLimit.max]})}),"."]}),Object(n.jsx)("br",{}),Object(n.jsxs)("small",{children:["If you upload more than ",this.props.numImagesLimit.max," images then only the"," ",Object(n.jsx)("mark",{children:Object(n.jsxs)("b",{children:["first ",this.props.numImagesLimit.max," images"]})})," ","will be considered."]}),Object(n.jsx)("br",{}),Object(n.jsxs)("small",{children:["The total size of the images for each class must be"," ",Object(n.jsx)("mark",{children:Object(n.jsxs)("b",{children:["less than ",this.props.sizeLimit/1e6," MB"]})}),"."]}),Object(n.jsx)(dt,{onSubmit:this.onClassChoiceSubmit,initialValues:{classChoice:this.props.currentClass}}),Object(n.jsx)(bt,{onSubmit:this.onDataUploadSubmit}),Object(n.jsx)(Ot,{})]})}}]),a}(r.a.Component),ft=Object(o.b)((function(e){var t=e.imageClassification,a=t.currentClass,n=t.dataset,s=t.datasetSize,r=t.configOptions;return{currentClass:a,numImagesLimit:r.numImagesLimit,sizeLimit:r.sizeLimit,currentSize:s[a],currentClassImgCount:n[a]?n[a].length:0}}),{icCurrentClass:function(e){return{type:U,payload:e}},icAddImages:function(e){var t=e.imagesList,a=e.imagesListSize,n=e.imagesListPreview;return{type:B,payload:{imagesList:t,imagesListSize:a,imagesListPreview:n}}}})(xt),gt=function(e){Object(j.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"renderContent",value:function(){return Object(n.jsxs)(Se.a,{children:[Object(n.jsx)(Le.a,{xs:12,md:4,className:"text-center",children:Object(n.jsx)(mt,{})}),Object(n.jsx)(Le.a,{xs:12,md:8,className:"".concat(this.props.isMobile?"mt-5":""," text-center"),children:Object(n.jsx)(ft,{})})]})}},{key:"render",value:function(){var e=this;return i.a.createPortal(Object(n.jsx)("div",{className:"modal-container",onClick:function(){return e.props.onDismiss()},children:Object(n.jsxs)("div",{className:"modal-body",style:{width:this.props.isMobile?"90%":"60%",maxHeight:"calc(100vh - 20vh)"},onClick:function(e){return e.stopPropagation()},children:[Object(n.jsx)("h3",{className:"text-center",children:"Upload Dataset"}),Object(n.jsx)("hr",{className:"w-100"}),this.renderContent(),Object(n.jsx)("hr",{className:"w-100"}),Object(n.jsx)(Se.a,{children:Object(n.jsxs)(Le.a,{className:"text-right",children:[Object(n.jsx)(Ie.a,{variant:"success",className:"mr-2",onClick:function(){e.props.onDismiss()},children:"Save Dataset"}),Object(n.jsx)(Ie.a,{variant:"warning",className:"mr-2",onClick:function(){return e.props.onDismiss(!0)},children:"Go Back"})]})})]})}),document.querySelector("#modal"))}}]),a}(r.a.Component),yt=Object(o.b)((function(e){return{isMobile:e.isMobile}}))(gt),vt=function(e){Object(j.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var s=arguments.length,r=new Array(s),c=0;c<s;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={displayModal:!1},e.toggleModal=function(){e.setState({displayModal:!e.state.displayModal})},e.onModalDismiss=function(t){t&&e.props.clearTrainData(e.props.taskName),e.toggleModal()},e.checkNumClasses=function(){var t=e.props,a=t.configOptions.numClassesLimit.min,s=t.dataset;return!(we.a.keys(s).length<a)||(h.b.dark(Object(n.jsxs)("div",{children:[Object(n.jsx)(ce.b,{size:25,color:"yellow"}),"\xa0 You need to create a minimum of ",a," classes."]})),!1)},e.checkNumImages=function(){var t=e.props,a=t.configOptions.numImagesLimit.min,s=t.dataset,r=we.a.values(s),c=we.a.sum(we.a.map(r,(function(e){return e.length<a?0:1})));return r.length===c||(h.b.dark(Object(n.jsxs)("div",{children:[Object(n.jsx)(ce.b,{size:25,color:"yellow"}),"\xa0 You need to upload atleast ",a," images per class."]})),!1)},e.onConfigSubmit=function(t){if(e.checkNumClasses()&&e.checkNumImages()){var a=e.props,n=a.dataset,s=a.currentConfig,r=s.modelType,c=s.dataSplit;e.props.onSubmit(Object(He.a)(Object(He.a)({mode:"training",taskType:e.props.taskName},t),{},{modelType:r,dataSplit:c,dataset:n}))}},e}return Object(d.a)(a,[{key:"renderModal",value:function(){return Object(n.jsx)(n.Fragment,{children:this.state.displayModal?Object(n.jsx)(yt,{onDismiss:this.onModalDismiss}):""})}},{key:"render",value:function(){var e=this;return we.a.isEmpty(this.props.configOptions)?Object(n.jsx)(n.Fragment,{children:$e("Loading")}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(rt,{taskName:this.props.taskName,form:this.props.formName,onSubmit:this.onConfigSubmit}),Object(n.jsx)(Se.a,{className:"my-5 text-center",children:Object(n.jsx)(Le.a,{children:Object(n.jsx)(Ie.a,{variant:"dark",onClick:function(t){t.preventDefault(),e.toggleModal()},disabled:this.props.loadingForm.includes(this.props.formName),children:"Create Dataset"})})}),Object(n.jsx)(Se.a,{className:"mt-5 text-center",children:Object(n.jsx)(Le.a,{children:tt({loading:this.props.loadingForm.includes(this.props.formName),btnColor:"success",originalText:"Start Training!",loadingText:"Uploading config...",onClick:function(){return e.props.dispatch(Object(k.b)(e.props.formName))}})})}),this.renderModal()]})}}]),a}(r.a.Component),Nt=Object(o.b)((function(e){var t=e.loadingForm,a=e.imageClassification;return{loadingForm:t,configOptions:a.configOptions,currentConfig:a.currentConfig,dataset:a.dataset}}),(function(e){return Object(He.a)({dispatch:e},Object(l.b)({clearTrainData:ve},e))}))(vt),kt=function(e){Object(j.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"renderContent",value:function(){return Object(n.jsxs)(Se.a,{className:"my-4",children:[Object(n.jsx)(Le.a,{xs:12,className:"mb-4",children:"Your dataset and model configuration has been successfully uploaded to the server for training."}),Object(n.jsx)(Le.a,{xs:12,children:Object(n.jsxs)("h5",{children:[Object(n.jsx)("b",{children:"Token:"}),"\xa0\xa0\xa0 ",this.props.token]})}),Object(n.jsx)(Le.a,{xs:12,className:"mt-4",children:"Please copy and save the token provided above. It will be required for testing the model on the inference page."}),Object(n.jsxs)(Le.a,{xs:12,className:"mt-4",children:["Note:",Object(n.jsxs)("ul",{children:[Object(n.jsx)("li",{children:"The model shall be trained and available for inference in 3-15 minutes depending upon the size of your dataset."}),Object(n.jsxs)("li",{children:["Trained models are available for testing only upto ",Object(n.jsx)("b",{children:"2 hours"})," ","starting from the point when they are made available for inference."]})]})]})]})}},{key:"render",value:function(){var e=this;return i.a.createPortal(Object(n.jsx)("div",{className:"modal-container",children:Object(n.jsxs)("div",{className:"modal-body",style:{width:"40%",maxHeight:"calc(100vh - 20vh)"},onClick:function(e){return e.stopPropagation()},children:[Object(n.jsx)("h3",{className:"text-center",children:"Upload Successful"}),Object(n.jsx)("hr",{className:"w-100"}),this.renderContent(),Object(n.jsx)("hr",{className:"w-100"}),Object(n.jsx)(Se.a,{children:Object(n.jsx)(Le.a,{className:"text-right",children:Object(n.jsx)(Ie.a,{variant:"success",className:"mr-2",onClick:function(){return e.props.onDismiss(!0)},children:"Dismiss"})})})]})}),document.querySelector("#modal"))}}]),a}(r.a.Component),Ct=Object(o.b)((function(e){return{token:e.serverConfig.token}}))(kt),Tt=function(e){Object(j.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).onSubmit=function(e){n.props.submitTrainRequest({formName:n.formName,trainConfig:e})},n.onModalDismiss=function(){n.props.clearTrainData(n.taskName),n.props.clearTrainToken(),x.push("/inference")},n.taskName="imageClassification",n.formName="".concat(n.taskName,"ConfigForm"),n.configOptions={modelTypes:["ResNet18","ResNet34","MobileNet v2"],modelFieldTitle:"Model",pretrainDatasets:{default:"Select a dataset (Optional)...",imagenet:"ImageNet",cifar100:"CIFAR-100"},numClassesLimit:{min:2,max:10},numImagesLimit:{min:10,max:100},batchSizeLimit:{min:1,max:32},numEpochsLimit:{min:1,max:10},sizeLimit:1e7},n.currentConfig=Object(He.a)({modelType:"ResNet18",dataSplit:"70 : 30",optimizer:"sgd",learningRate:.01},n.props.currentTrainConfig),n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.props.setTrainConfig({taskName:this.taskName,config:Object(He.a)(Object(He.a)(Object(He.a)({},this.props.trainConfigOptions),this.configOptions),{},{currentConfig:this.currentConfig})})}},{key:"componentWillUnmount",value:function(){this.props.clearTrainConfig(this.taskName)}},{key:"renderModal",value:function(){return Object(n.jsx)(n.Fragment,{children:this.props.token?Object(n.jsx)(Ct,{onDismiss:this.onModalDismiss}):""})}},{key:"render",value:function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Se.a,{children:Object(n.jsx)(Le.a,{xs:9,md:4,className:"mx-auto",children:Object(n.jsx)(De.a,{className:"mx-auto mt-4",children:Object(n.jsx)(De.a.Img,{variant:"top",as:"video",playsInline:"playsinline",autoPlay:"autoplay",muted:"muted",children:Object(n.jsx)("source",{src:"".concat("/Flash","/assets/media/imageClassification.mp4"),type:"video/mp4"})})})})}),Object(n.jsx)(Se.a,{className:"mt-5",children:Object(n.jsx)(Le.a,{xs:6,className:"mx-auto",children:Object(n.jsx)(Nt,{taskName:this.taskName,formName:this.formName,onSubmit:this.onSubmit})})}),this.renderModal()]})}}]),a}(r.a.Component),wt=Object(o.b)((function(e){return{token:e.serverConfig.token}}),{clearTrainToken:ge,setTrainConfig:ye,submitTrainRequest:ke,clearTrainData:ve,clearTrainConfig:Ne})(Tt),St=function(e){Object(j.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return Object(n.jsx)(at.a,Object(He.a)(Object(He.a)({},we.a.omit(this.props.fieldConfig,"label","hideFilename")),{},{label:this.props.fieldLabel?this.props.fieldLabel:this.props.fieldConfig.label,onChange:function(t){e.props.hideFilename||e.props.setFormFileFieldLabel({taskName:e.props.taskName,label:t.target.files[0].name})}}))}}]),a}(r.a.Component),Lt=Object(o.b)((function(e,t){return{fieldLabel:e.formFileField[t.taskName]}}),{setFormFileFieldLabel:function(e){var t=e.taskName,a=e.label;return{type:F,payload:{taskName:t,label:a}}}})(St),It=function(e){Object(j.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return Object(n.jsxs)(Se.a,{className:"text-center",children:[Object(n.jsx)(Le.a,{xs:12,className:"mb-4",children:Object(n.jsx)("h4",{children:"Upload Dataset"})}),Object(n.jsx)(Le.a,{md:8,className:"mx-auto",children:Object(n.jsxs)(qe.a,{children:[Object(n.jsx)(jt.a,{size:30,className:"mb-3"}),Object(n.jsx)(Lt,{taskName:this.props.taskName,fieldConfig:{name:"tcCsvData",component:et,contentType:"file",label:"Choose File",acceptFileFormat:".csv, text/csv"}})]})})]})}}]),a}(r.a.Component),Ft=Object(nt.a)({form:"tcDataUploadForm",onChange:function(e,t,a){a.submit()}})(It),Dt=function(e){Object(j.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var s=arguments.length,r=new Array(s),c=0;c<s;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).onDataUploadSubmit=function(){var t=Object(N.a)(v.a.mark((function t(a){var s;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!((s=a.tcCsvData).length>0)){t.next=13;break}if(!((s=s[0]).size>e.props.sizeLimit)){t.next=7;break}h.b.info(Object(n.jsxs)("div",{children:[Object(n.jsx)(ce.b,{size:25}),"\xa0 Cannot upload the file. Total size of the dataset is exceeding ",e.props.sizeLimit/1e6," MB."]})),t.next=13;break;case 7:return t.t0=Xe,t.next=10,Je(s);case 10:t.t1=t.sent,s=(0,t.t0)(t.t1),e.props.saAddData(s);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(d.a)(a,[{key:"renderContent",value:function(){return Object(n.jsx)(Se.a,{className:"px-3",children:Object(n.jsxs)(Le.a,{className:"text-justify",children:[Object(n.jsxs)("p",{children:["Upload the dataset as a ",Object(n.jsx)("b",{children:"CSV (Comma-Separated Values)"})," file with ",Object(n.jsx)("b",{children:"two columns"}),":"," ",Object(n.jsx)("mark",{children:Object(n.jsx)("b",{children:"input"})})," ","and",Object(n.jsx)("mark",{children:Object(n.jsx)("b",{children:"label"})})]}),"Column Description:",Object(n.jsxs)("ul",{children:[Object(n.jsxs)("li",{children:[Object(n.jsx)("mark",{children:Object(n.jsx)("b",{children:"input"})}),": Contains input sentences"]}),Object(n.jsxs)("li",{children:[Object(n.jsx)("mark",{children:Object(n.jsx)("b",{children:"label"})}),": Contains the type (class) for the corresponding input sentences."]})]}),Object(n.jsxs)("p",{children:["NOTE: The CSV file must contain"," ",Object(n.jsxs)("b",{children:["less than ",this.props.numRows," rows"]})," and its size must be"," ",Object(n.jsxs)("b",{children:["less than ",this.props.sizeLimit/1e6," MB"]})]}),Object(n.jsx)("br",{}),Object(n.jsxs)(Se.a,{className:"mb-4",children:[Object(n.jsxs)(Le.a,{xs:12,md:6,children:[Object(n.jsx)("h4",{className:"mb-3 text-center",children:"Example Dataset Preview"}),Object(n.jsx)(De.a,{className:"shadow bg-white rounded mx-auto",children:Object(n.jsx)(De.a.Img,{variant:"top",style:{height:this.props.isMobile?"20vh":"24vh"},src:"".concat("/Flash","/assets/media/textClassificationDataPreview.png"),alt:"text classification example dataset preview"})})]}),Object(n.jsx)(Le.a,{xs:12,md:6,className:this.props.isMobile?"mt-5":"my-auto",children:Object(n.jsx)(Ft,{onSubmit:this.onDataUploadSubmit,taskName:this.props.taskName})})]})]})})}},{key:"render",value:function(){var e=this;return i.a.createPortal(Object(n.jsx)("div",{className:"modal-container",onClick:function(){return e.props.onDismiss()},children:Object(n.jsxs)("div",{className:"modal-body",style:{width:this.props.isMobile?"90%":"50%",maxHeight:"calc(100vh - 20vh)"},onClick:function(e){return e.stopPropagation()},children:[Object(n.jsx)("h3",{className:"text-center",children:"Upload Dataset"}),Object(n.jsx)("hr",{className:"w-100"}),this.renderContent(),Object(n.jsx)("hr",{className:"w-100"}),Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)("div",{className:"col text-right",children:[Object(n.jsx)("button",{className:"btn btn-success mr-2",onClick:function(){e.props.onDismiss()},children:"Save Dataset"}),Object(n.jsx)("button",{className:"btn btn-warning mr-2",onClick:function(){return e.props.onDismiss(!0)},children:"Go Back"})]})})]})}),document.querySelector("#modal"))}}]),a}(r.a.Component),Mt=Object(o.b)((function(e){var t=e.isMobile,a=e.textClassification.configOptions;return{isMobile:t,sizeLimit:a.sizeLimit,numRows:a.numRows}}),{saAddData:function(e){return{type:W,payload:e}}})(Dt),Pt=function(e){Object(j.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var s=arguments.length,r=new Array(s),c=0;c<s;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={displayModal:!1},e.toggleModal=function(){e.setState({displayModal:!e.state.displayModal})},e.onModalDismiss=function(t){t&&e.props.clearTrainData(e.props.taskName),e.toggleModal()},e.checkDataset=function(){return!!e.props.dataset||(h.b.dark(Object(n.jsxs)("div",{children:[Object(n.jsx)(ce.b,{size:25,color:"yellow"}),"\xa0 Please upload a dataset."]})),!1)},e.onConfigSubmit=function(t){if(e.checkDataset()){var a=e.props,n=a.dataset,s=a.currentConfig,r=s.modelType,c=s.dataSplit;e.props.onSubmit(Object(He.a)(Object(He.a)({mode:"training",taskType:e.props.taskName},t),{},{modelType:r,dataSplit:c,dataset:n}))}},e}return Object(d.a)(a,[{key:"renderModal",value:function(){return Object(n.jsx)(n.Fragment,{children:this.state.displayModal?Object(n.jsx)(Mt,{onDismiss:this.onModalDismiss,taskName:this.props.taskName}):""})}},{key:"render",value:function(){var e=this;return we.a.isEmpty(this.props.configOptions)?Object(n.jsx)(n.Fragment,{children:$e("Loading")}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(rt,{taskName:this.props.taskName,form:this.props.formName,onSubmit:this.onConfigSubmit}),Object(n.jsx)(Se.a,{className:"my-5 text-center",children:Object(n.jsx)(Le.a,{children:Object(n.jsx)(Ie.a,{variant:"dark",onClick:function(t){t.preventDefault(),e.toggleModal()},disabled:this.props.loadingForm.includes(this.props.formName),children:"Upload Dataset"})})}),Object(n.jsx)(Se.a,{className:"mt-5 text-center",children:Object(n.jsx)(Le.a,{children:tt({loading:this.props.loadingForm.includes(this.props.formName),btnColor:"success",originalText:"Start Training!",loadingText:"Uploading config...",onClick:function(){return e.props.dispatch(Object(k.b)(e.props.formName))}})})}),this.renderModal()]})}}]),a}(r.a.Component),zt=Object(o.b)((function(e){var t=e.loadingForm,a=e.textClassification;return{loadingForm:t,configOptions:a.configOptions,currentConfig:a.currentConfig,dataset:a.dataset}}),(function(e){return Object(He.a)({dispatch:e},Object(l.b)({clearTrainData:ve},e))}))(Pt),Rt=function(e){Object(j.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).onSubmit=function(e){n.props.submitTrainRequest({formName:n.formName,trainConfig:e})},n.onModalDismiss=function(){n.props.clearTrainData(n.taskName),n.props.clearTrainToken(),x.push("/inference")},n.taskName="textClassification",n.formName="".concat(n.taskName,"ConfigForm"),n.configOptions={modelTypes:["LSTM","GRU"],modelFieldTitle:"RNN Type",numRows:1e4,sizeLimit:1e6},n.currentConfig=Object(He.a)({modelType:"LSTM",dataSplit:"70 : 30",optimizer:"adam",learningRate:.001},n.props.currentTrainConfig),n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.props.setTrainConfig({taskName:this.taskName,config:Object(He.a)(Object(He.a)(Object(He.a)({},this.props.trainConfigOptions),this.configOptions),{},{currentConfig:this.currentConfig})})}},{key:"componentWillUnmount",value:function(){this.props.clearTrainConfig(this.taskName)}},{key:"renderModal",value:function(){return Object(n.jsx)(n.Fragment,{children:this.props.token?Object(n.jsx)(Ct,{onDismiss:this.onModalDismiss}):""})}},{key:"render",value:function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Se.a,{children:Object(n.jsx)(Le.a,{xs:10,md:5,className:"mx-auto",children:Object(n.jsx)(De.a,{className:"mx-auto mt-4",children:Object(n.jsx)(De.a.Img,{variant:"top",as:"video",playsInline:"playsinline",autoPlay:"autoplay",muted:"muted",children:Object(n.jsx)("source",{src:"".concat("/Flash","/assets/media/textClassification.mp4"),type:"video/mp4"})})})})}),Object(n.jsx)(Se.a,{className:"mt-5",children:Object(n.jsx)(Le.a,{xs:6,className:"mx-auto",children:Object(n.jsx)(zt,{taskName:this.taskName,formName:this.formName,onSubmit:this.onSubmit})})}),this.renderModal()]})}}]),a}(r.a.Component),Et=Object(o.b)((function(e){return{token:e.serverConfig.token}}),{clearTrainToken:ge,setTrainConfig:ye,clearTrainConfig:Ne,submitTrainRequest:ke,clearTrainData:ve})(Rt),_t=a(119),At=a(156),Ut=function(e){return Object(n.jsx)(_t.Container,{children:Object(n.jsx)(Me.a,{to:{pathname:"/about",state:{targetSection:e.target}},children:Object(n.jsx)(_t.Button,{tooltip:"Help",styles:{backgroundColor:"#000000",color:"#ffffff"},children:Object(n.jsx)(At.a,{size:25})})})})},Bt=function(e){Object(j.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).changeCurrentTask=function(e){n.state.currentTask!==e&&n.setState({currentTask:e})},n.hoverButtons=[{buttonValue:"imageClassification",buttonText:"Image Classification"},{buttonValue:"textclassification",buttonText:"Text Classification"}],n.trainConfigOptions={dataSplit:["70 : 30","80 : 20"],batchSizeLimit:{min:1,max:256},numEpochsLimit:{min:1,max:20},optimizers:{adam:"Adam",sgd:"SGD"},learningRateLimit:{min:1e-5,max:2},reduceLrOnPlateauLimit:{factor:{min:.01,max:.5},patience:{min:1,max:20},minLr:1e-5},stepLrLimit:{stepSize:{min:1,max:10},gamma:{min:.01,max:.9}}},n.currentTrainConfig={reduceLrOnPlateau:!1,reduceLrOnPlateauPatience:5,reduceLrOnPlateauFactor:.1,reduceLrOnPlateauMinLr:1e-5,stepLr:!1,stepLrStepSize:4,stepLrGamma:.1},n.state={currentTask:"imageClassification"},n}return Object(d.a)(a,[{key:"renderCurrentTask",value:function(){return"imageClassification"===this.state.currentTask?Object(n.jsx)(wt,{trainConfigOptions:this.trainConfigOptions,currentTrainConfig:this.currentTrainConfig}):Object(n.jsx)(Et,{trainConfigOptions:this.trainConfigOptions,currentTrainConfig:this.currentTrainConfig})}},{key:"render",value:function(){return Object(n.jsxs)(f.a,{children:[Object(n.jsx)(Se.a,{children:Object(n.jsx)(Le.a,{children:Object(n.jsx)("h1",{className:"heading",children:"Train a Model"})})}),Object(n.jsx)(Se.a,{children:Object(n.jsx)(Le.a,{className:"text-center",children:Object(n.jsx)(Ve,{hoverButtons:this.hoverButtons,currentButtonValue:this.state.currentTask,changeCurrentButtonValue:this.changeCurrentTask})})}),this.renderCurrentTask(),Object(n.jsx)(Ut,{target:"training"})]})}}]),a}(r.a.Component),Gt=function(e){Object(j.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).onSubmit=function(t){e.props.token?(e.props.clearInferenceConfig(),e.props.dispatch(Object(k.a)(e.props.form))):e.props.submitInferenceToken({formName:e.props.form,token:t.token})},e}return Object(d.a)(a,[{key:"render",value:function(){return Object(n.jsx)(Se.a,{className:"mb-1 mt-3 py-5",children:Object(n.jsx)(Le.a,{xs:10,md:6,className:"mx-auto",children:this.props.token?Object(n.jsx)("form",{onSubmit:this.props.handleSubmit(this.onSubmit),className:"mb-4",children:Object(n.jsx)(at.a,{name:"token",component:et,contentType:"text",label:"Token",textAppend:Object(n.jsx)(ce.a,{}),enableAppendSubmit:!0,isFixed:!0})}):Object(n.jsxs)("form",{onSubmit:this.props.handleSubmit(this.onSubmit),children:[Object(n.jsx)(at.a,{name:"token",component:et,contentType:"text",placeholder:"Enter Token"}),Object(n.jsx)(Se.a,{className:"mt-3",children:Object(n.jsx)(Le.a,{className:"text-right",children:tt({loading:this.props.loadingForm.includes(this.props.form),originalText:"Validate Token",loadingText:"Validating..."})})})]})})})}}]),a}(r.a.Component),Vt=Object(o.b)((function(e){return{loadingForm:e.loadingForm,token:e.inference.token}}),{submitInferenceToken:function(e){var t=e.formName,a=e.token;return function(){var e=Object(N.a)(v.a.mark((function e(n){var s,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t&&n(Oe(t)),(s=new FormData).append("token",JSON.stringify({token:a})),e.next=5,de({url:"/check",formData:s,requestType:"post",apiType:"inference"});case 5:r=e.sent,be(r)&&n({type:X,payload:{token:a,taskType:(c=r.data.taskType,"imageclassification"===c?"imageClassification":"textClassification"),isDownloadable:r.data.downloadable,accuracy:r.data.accuracy,accuracyPlot:r.data.accuracyPlot}}),t&&n(xe(t));case 8:case"end":return e.stop()}var c}),e)})));return function(t){return e.apply(this,arguments)}}()},clearInferenceConfig:function(){return{type:K}}})(Object(nt.a)({form:"tokenForm",validate:function(e){var t={};return e.token?/^[a-zA-Z0-9-_ ]+$/i.test(e.token)||(t.token="Invalid token"):t.token="You must enter a token",t}})(Gt)),Ht=function(e){Object(j.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={haltPytorch:!1,haltOnnx:!1},e.downloadFile=function(){var e=Object(N.a)(v.a.mark((function e(t){var a,n,s,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return a=e.sent,e.next=5,a.blob();case 5:n=e.sent,s=window.URL.createObjectURL(n),(r=document.createElement("a")).href=s,r.download=t.split("/").at(-1),r.click();case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.onDownloadClick=function(t){e.props.setInferenceDownloadUrl({token:e.props.token,format:t})},e.componentDidUpdate=Object(N.a)(v.a.mark((function t(){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.props.downloadUrlPytorch||e.state.haltPytorch){t.next=6;break}return e.setState({haltPytorch:!0}),t.next=4,e.downloadFile(e.props.downloadUrlPytorch);case 4:e.props.clearInferenceDownloadUrl("pytorch"),e.setState({haltPytorch:!1});case 6:if(!e.props.downloadUrlOnnx||e.state.haltOnnx){t.next=12;break}return e.setState({haltOnnx:!0}),t.next=10,e.downloadFile(e.props.downloadUrlOnnx);case 10:e.props.clearInferenceDownloadUrl("onnx"),e.setState({haltOnnx:!1});case 12:case"end":return t.stop()}}),t)}))),e}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return Object(n.jsxs)(Se.a,{className:"mb-5",children:[Object(n.jsx)(Le.a,{xs:6,className:"text-right",children:tt({loading:this.props.downloadUrlPytorch,originalText:"Download as PyTorch",loadingText:"Downloading...",btnColor:"dark",size:"sm",onClick:function(){return e.onDownloadClick("pytorch")}})}),Object(n.jsx)(Le.a,{xs:6,className:"text-left",children:tt({loading:this.props.downloadUrlOnnx,originalText:"Download as ONNX",loadingText:"Downloading...",btnColor:"dark",size:"sm",onClick:function(){return e.onDownloadClick("onnx")}})})]})}}]),a}(r.a.Component),qt=Object(o.b)((function(e){var t=e.inference;return{token:t.token,downloadUrlPytorch:t.downloadUrlPytorch,downloadUrlOnnx:t.downloadUrlOnnx}}),{setInferenceDownloadUrl:function(e){var t=e.token,a=e.format;return function(){var e=Object(N.a)(v.a.mark((function e(n){var s,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(s=new FormData).append("downloadConfig",JSON.stringify({token:t,format:a})),e.next=4,de({url:"/download",formData:s,requestType:"post",apiType:"inference"});case 4:r=e.sent,be(r)&&n({type:"pytorch"===a?Q:te,payload:{downloadUrl:r.data.url}});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},clearInferenceDownloadUrl:function(e){return{type:"pytorch"===e?ee:ae}}})(Ht),Yt=function(e){Object(j.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).onSubmit=function(){var t=Object(N.a)(v.a.mark((function t(a){var n,s;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=a.inferenceInput,e.props.clearInferencePrediction(),s="text","object"!==typeof n){t.next=8;break}return s="image",t.next=7,Je(n[0]);case 7:n=t.sent;case 8:e.props.submitInferenceData({formName:e.props.form,formInput:{token:e.props.token,input:"image"===s?Xe(n):n}}),e.props.onSubmit(n);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props.field,t=e.contentType,a=e.label,s=e.acceptFileFormat;return Object(n.jsxs)("form",{onSubmit:this.props.handleSubmit(this.onSubmit),className:"mt-5 mt-md-0",children:["file"===t?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"text-center",children:Object(n.jsx)(jt.a,{size:35,className:"mb-3"})}),Object(n.jsx)(Lt,{taskName:this.props.taskName,fieldConfig:{name:"inferenceInput",component:et,contentType:t,label:a,acceptFileFormat:s}})]}):Object(n.jsx)(at.a,{name:"inferenceInput",component:et,contentType:t,label:a}),Object(n.jsxs)(Se.a,{className:"mt-3",children:[Object(n.jsx)(Le.a,{className:"mx-auto",children:tt({loading:this.props.loadingForm.includes(this.props.form),originalText:"Predict",loadingText:"Predicting..."})}),Object(n.jsx)(Le.a,{xs:12,children:Object(n.jsx)("small",{children:"*The model might take more than 1 min to give predictions for the first time."})})]})]})}}]),a}(r.a.Component),Wt=Object(o.b)((function(e){return{loadingForm:e.loadingForm,token:e.inference.token}}),{submitInferenceData:function(e){var t=e.formName,a=e.formInput;return function(){var e=Object(N.a)(v.a.mark((function e(n){var s,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t&&n(Oe(t)),(s=new FormData).append("inferenceInput",JSON.stringify(a)),e.next=5,de({url:"/inference",formData:s,requestType:"post",apiType:"inference",maxNumTries:3});case 5:r=e.sent,be(r)&&n({type:Z,payload:r.data.prediction}),t&&n(xe(t));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},clearInferencePrediction:function(){return{type:ne}}})(Object(nt.a)({form:"inferenceForm",validate:function(e){var t={};return e.inferenceInput||(t.inferenceInput="This field cannot be empty"),t}})(Yt)),$t=function(e){Object(j.a)(a,e);var t=Object(p.a)(a);function a(e){var n;Object(u.a)(this,a),(n=t.call(this,e)).onSubmit=function(e){n.props.taskType,n.setState({inferenceInput:e})},n.state={inferenceInput:null};var s={};return s="imageClassification"===n.props.taskType?{contentType:"file",label:"Upload Image",acceptFileFormat:"image/jpeg,image/png"}:{contentType:"text",label:"Enter Text:"},n.fieldValues=s,n}return Object(d.a)(a,[{key:"renderAccuracy",value:function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("h5",{className:"text-center mb-3",children:["Best Accuracy:"," ",Object(n.jsx)("mark",{children:Object(n.jsxs)("b",{children:[(this.props.accuracy*(this.props.accuracy<1?100:1)).toFixed(2)," ","%"]})})]}),Object(n.jsx)(De.a,{className:"shadow bg-white rounded mx-auto",style:{height:this.props.isMobile?"20vh":"30vh"},children:Object(n.jsx)(De.a.Img,{variant:"top",src:"data:image/jpeg;base64,".concat(this.props.accuracyPlot),alt:"text classification example dataset preview"})})]})}},{key:"renderOutput",value:function(){return Object(n.jsxs)(Se.a,{className:"mb-5",children:[Object(n.jsx)(Le.a,{xs:12,className:"mt-4",children:Object(n.jsx)("h4",{className:"text-center",children:"Results"})}),Object(n.jsxs)(Le.a,{xs:12,lg:6,className:"mt-4 ml-auto text-center",children:[Object(n.jsx)("h4",{className:"text-center",children:"Input"}),"imageClassification"===this.props.taskType?Object(n.jsx)(De.a,{className:"mx-auto mt-3 shadow bg-white rounded",style:{width:"20rem"},children:Object(n.jsx)(De.a.Img,{variant:"top",src:this.state.inferenceInput,alt:"source"})}):Object(n.jsx)(De.a,{className:"mx-auto shadow p-3 bg-white rounded",children:Object(n.jsx)(De.a.Body,{children:Object(n.jsx)(De.a.Text,{as:"h5",children:this.state.inferenceInput})})})]}),Object(n.jsxs)(Le.a,{xs:12,lg:6,className:"mt-5 mt-md-4 mr-auto text-center",children:[Object(n.jsx)("h4",{className:"text-center",children:"Prediction"}),Object(n.jsx)(De.a,{className:"mx-auto mt-3 shadow bg-white rounded",children:Object(n.jsx)(De.a.Body,{children:Object(n.jsx)(De.a.Title,{as:"h5",children:this.props.prediction})})})]})]})}},{key:"render",value:function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Se.a,{className:"mb-".concat(this.props.isDownloadable?"3":"5"),children:Object(n.jsx)(Le.a,{xs:12,children:Object(n.jsx)("h4",{className:"text-center",children:"imageClassification"===this.props.taskType?"Image Classification":"Text Classification"})})}),this.props.isDownloadable?Object(n.jsx)(qt,{}):"",Object(n.jsxs)(Se.a,{className:"mb-5",children:[Object(n.jsx)(Le.a,{xs:12,md:5,className:"".concat(this.props.isMobile?"mb-5":""," mx-auto"),children:this.renderAccuracy()}),Object(n.jsx)(Le.a,{xs:12,md:4,className:"".concat(this.props.isMobile?"mt-5":"my-auto"," mx-auto"),children:Object(n.jsx)(Wt,{onSubmit:this.onSubmit,taskName:this.props.taskName,field:this.fieldValues})})]}),this.props.prediction?this.renderOutput():""]})}}]),a}(r.a.Component),Jt=Object(o.b)((function(e){var t=e.isMobile,a=e.inference;return{isMobile:t,taskType:a.taskType,prediction:a.prediction,isDownloadable:a.isDownloadable,accuracy:a.accuracy,accuracyPlot:a.accuracyPlot}}))($t),Xt=function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Se.a,{className:"mt-5 mb-4",children:Object(n.jsx)(Le.a,{children:Object(n.jsx)("h4",{className:"text-center",children:"Preview Model"})})}),Object(n.jsx)(Se.a,{children:Object(n.jsxs)(Le.a,{xs:11,className:"mx-auto",children:["Want to test out the platform without training a model? No worries. We have prepared a ",Object(n.jsx)("b",{children:"preview"})," ",Object(n.jsx)("mark",{children:Object(n.jsx)("b",{children:"image classification model"})})," ","just for these cases. Please use the token given to below to test it out."]})}),Object(n.jsx)(Se.a,{className:"my-4",children:Object(n.jsx)(Le.a,{xs:11,className:"mx-auto",children:Object(n.jsxs)("h5",{children:[Object(n.jsx)("b",{children:"Token:"}),"\xa0\xa0\xa0 imageClassification-tinyimgnet-demo-a0uac"]})})}),Object(n.jsxs)(Se.a,{className:"mt-5",children:[Object(n.jsx)(Le.a,{xs:11,className:"mx-auto mb-2",children:Object(n.jsx)("h5",{children:"About the Model"})}),Object(n.jsxs)(Le.a,{xs:11,className:"mx-auto",children:[Object(n.jsxs)("p",{children:["The model can classify images belonging to the following"," ",Object(n.jsx)("mark",{children:Object(n.jsx)("b",{children:"six classes"})}),":"]}),we.a.map(["birdhouse","hourglass","lemon","pizza","seashore","stopwatch"],(function(e){return Object(n.jsx)(Ie.a,{variant:"success",size:"sm",className:"mr-2 my-1",children:e},e)}))]}),Object(n.jsxs)(Le.a,{xs:11,className:"mx-auto mt-3",children:["The model was trained by fine-tuning a"," ",Object(n.jsx)("mark",{children:Object(n.jsx)("b",{children:"ResNet34"})})," ","model pre-trained on the ImageNet dataset."]})]})]})},Kt=function(e){Object(j.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).taskName="inference",n}return Object(d.a)(a,[{key:"componentWillUnmount",value:function(){this.props.clearInference(this.taskName)}},{key:"render",value:function(){return Object(n.jsxs)(f.a,{children:[Object(n.jsx)("h1",{className:"heading",children:"Test your Model"}),Object(n.jsx)(Vt,{}),this.props.token?Object(n.jsx)(Jt,{taskName:this.taskName}):Object(n.jsx)(Xt,{}),Object(n.jsx)(Ut,{target:"inference"})]})}}]),a}(r.a.Component),Zt=Object(o.b)((function(e){return{token:e.inference.token}}),{clearInference:function(e){return function(t){t(fe(e)),t({type:se})}}})(Kt),Qt=function(e){Object(j.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).playItems=[{title:"Human Pose Estimation",link:"/playground/humanposeestimation",media:"/assets/media/humanPoseEstimation.gif"},{title:"Neural Style Transfer",link:"/playground/styletransfer",media:"/assets/media/neuralStyleTransfer.gif"}],n}return Object(d.a)(a,[{key:"render",value:function(){return Object(n.jsxs)(f.a,{children:[Object(n.jsx)(Se.a,{children:Object(n.jsx)(Le.a,{children:Object(n.jsx)("h1",{className:"heading",children:"Playground"})})}),Object(n.jsx)(Se.a,{className:"mb-5",children:Object(n.jsx)(Le.a,{xs:11,className:"mx-auto text-center",children:Object(n.jsx)("p",{style:{fontSize:"1.7vh"},children:"Don't have any models to train yet? Don't worry, we have trained some fun models for you to try out."})})}),Object(n.jsx)(Se.a,{xs:1,md:2,lg:3,children:we.a.map(this.playItems,(function(e){return Object(n.jsx)(Le.a,{className:"mb-5 mt-5 mx-auto",children:Object(n.jsxs)(De.a,{className:"card-hover rounded mx-auto",as:Me.a,to:e.link,style:{textDecoration:"none",color:"black"},children:[Object(n.jsx)(De.a.Img,{variant:"top",src:"".concat("/Flash").concat(e.media),alt:e.title}),Object(n.jsx)(De.a.Body,{className:"text-center",children:Object(n.jsx)(De.a.Title,{children:e.title})})]})},e.link)}))}),Object(n.jsx)(Ut,{target:"training"})]})}}]),a}(r.a.Component),ea=function(e){Object(j.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).onSubmit=function(e){var t=new FormData,a={},s={};for(var r in e)if("object"===typeof e[r]){var c=e[r];c.length&&(c=c[0]),t.append(r,c),a[r]=URL.createObjectURL(c)}else t.append(r,e[r]),s[r]=e[r];n.props.onSubmit({formData:t,objectURL:a,otherData:s})},n.submitButtonRef=r.a.createRef(),n}return Object(d.a)(a,[{key:"render",value:function(){var e={originalText:"Predict",loadingText:"Predicting..."};return this.props.buttonText&&(e=this.props.buttonText),Object(n.jsxs)("form",{onSubmit:this.props.handleSubmit(this.onSubmit),children:[we.a.map(this.props.fields,(function(e){return Object(n.jsx)(at.a,{name:e.name,component:et,contentType:e.contentType,label:e.label,options:e.options,required:!0},e.name)})),Object(n.jsxs)(Se.a,{className:"mt-3",children:[Object(n.jsx)(Le.a,{className:"mx-auto",children:tt(Object(He.a)({loading:this.props.loadingForm.includes(this.props.form),ref:this.submitButtonRef},e))}),Object(n.jsx)(Le.a,{xs:12,children:Object(n.jsx)("small",{children:"*The model might take more than 1 min to give predictions for the first time."})})]})]})}}]),a}(r.a.Component),ta=Object(o.b)((function(e){return{loadingForm:e.loadingForm}}))(Object(nt.a)({validate:function(e){var t={};return e.image||(t.image="Please upload an image"),t}})(ea)),aa=function(e){Object(j.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).onSubmit=function(e){var t=e.formData,a=e.objectURL;n.props.submitPlaygroundForm({url:"https://wrad2oqme9.execute-api.ap-south-1.amazonaws.com/dev/pose",formName:n.formName,formData:t}),n.setState({objectURL:a.image})},n.state={objectURL:null},n.formName="humanposeestimation",n.submitButtonRef=r.a.createRef(),n}return Object(d.a)(a,[{key:"renderOutput",value:function(){return this.props.play.name===this.formName?Object(n.jsxs)(Se.a,{className:"mt-5",children:[Object(n.jsx)(Le.a,{xs:12,md:6,className:"mt-4 ml-auto text-center",children:Object(n.jsxs)(De.a,{className:"mx-auto",style:{width:"20rem"},children:[Object(n.jsx)(De.a.Img,{variant:"top",src:this.state.objectURL,alt:"source"}),Object(n.jsx)(De.a.Body,{children:Object(n.jsx)(De.a.Text,{children:"Input Image"})})]})}),Object(n.jsx)(Le.a,{xs:12,md:6,className:"mt-4 ml-auto text-center",children:Object(n.jsxs)(De.a,{className:"mx-auto",style:{width:"20rem"},children:[Object(n.jsx)(De.a.Img,{variant:"top",src:"data:image/jpeg;base64,".concat(this.props.play.data.data),alt:"pose"}),Object(n.jsx)(De.a.Body,{children:Object(n.jsx)(De.a.Text,{children:"Pose Estimated Image"})})]})})]}):""}},{key:"render",value:function(){return Object(n.jsxs)(f.a,{children:[Object(n.jsx)(Se.a,{children:Object(n.jsx)(Le.a,{children:Object(n.jsx)("h1",{className:"heading",children:"Human Pose Estimation"})})}),Object(n.jsx)(Se.a,{className:"my-4",children:Object(n.jsx)(Le.a,{xs:11,lg:6,className:"mx-auto",children:Object(n.jsx)("p",{align:"justify",children:"This model uses a ResNet-50 model pre-trained on the MPII dataset to predict and draw pose of a human in the input image."})})}),Object(n.jsx)(Se.a,{className:"my-4",children:Object(n.jsx)(Le.a,{xs:11,lg:6,className:"mx-auto",children:Object(n.jsx)(ta,{form:this.formName,onSubmit:this.onSubmit,fields:[{name:"image",contentType:"fileField",label:"Upload Face Image"}]})})}),this.renderOutput()]})}}]),a}(r.a.Component),na=Object(o.b)((function(e){return{play:e.play}}),{submitPlaygroundForm:Ce})(aa),sa=function(e){Object(j.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).onSubmit=function(e){var t=e.formData,a=e.objectURL,s=e.otherData;n.props.submitPlaygroundForm({url:"https://0g0e7jb2ni.execute-api.ap-south-1.amazonaws.com/dev/style",formName:n.formName,formData:t}),n.setState({contentImageURL:a.content,styleImageURL:n.styleMap[s.style][1]})},n.state={contentImageURL:null,styleImageURL:null},n.formName="styletransfer",n.submitButtonRef=r.a.createRef(),n.styleMap={1:["Candy","".concat("/Flash","/assets/styles/candy.jpg")],2:["Composition VII","".concat("/Flash","/assets/styles/composition_vii.jpg")],3:["Feathers","".concat("/Flash","/assets/styles/feathers.jpg")],4:["La Muse","".concat("/Flash","/assets/styles/la_muse.jpg")],5:["Mosaic","".concat("/Flash","/assets/styles/mosaic.jpg")],6:["Starry Night","".concat("/Flash","/assets/styles/starry_night.jpg")],7:["The Scream","".concat("/Flash","/assets/styles/the_scream.jpg")],8:["Udnie","".concat("/Flash","/assets/styles/udnie.jpg")],9:["Wave","".concat("/Flash","/assets/styles/wave.jpg")]},n}return Object(d.a)(a,[{key:"renderOutputSmallDisplay",value:function(){return Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)(Le.a,{xs:12,className:"d-block d-md-none mx-auto",children:Object(n.jsxs)(Se.a,{children:[Object(n.jsx)(Le.a,{xs:12,className:"mb-2",children:Object(n.jsx)("h3",{className:"text-center",children:"Inputs"})}),Object(n.jsx)(Le.a,{xs:12,children:Object(n.jsxs)(De.a,{children:[Object(n.jsx)(De.a.Img,{variant:"top",src:this.state.contentImageURL,alt:"content"}),Object(n.jsx)(De.a.Body,{children:Object(n.jsx)(De.a.Text,{children:"Content Image"})})]})}),Object(n.jsx)(Le.a,{xs:12,className:"mt-2",children:Object(n.jsxs)(De.a,{children:[Object(n.jsx)(De.a.Img,{variant:"top",src:this.state.styleImageURL,alt:"style"}),Object(n.jsx)(De.a.Body,{children:Object(n.jsx)(De.a.Text,{children:"Style Image"})})]})})]})}),Object(n.jsxs)(Le.a,{xs:12,className:"d-block d-md-none mx-auto",children:[Object(n.jsx)(Se.a,{children:Object(n.jsx)(Le.a,{xs:12,className:"mt-5 mb-2",children:Object(n.jsx)("h3",{className:"text-center",children:"Output"})})}),Object(n.jsx)(Le.a,{xs:12,children:Object(n.jsxs)(De.a,{children:[Object(n.jsx)(De.a.Img,{variant:"top",src:"data:image/jpeg;base64,".concat(this.props.modelForm.data.data),alt:"styled"}),Object(n.jsx)(De.a.Body,{children:Object(n.jsx)(De.a.Text,{children:"Styled Content Image"})})]})})]})]})}},{key:"renderOutputLargeDisplay",value:function(){return Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)(Le.a,{xs:7,className:"d-none d-md-block ml-auto",children:Object(n.jsxs)(Se.a,{children:[Object(n.jsx)(Le.a,{xs:12,children:Object(n.jsx)("h3",{className:"text-center",children:"Inputs"})}),Object(n.jsx)(Le.a,{xs:6,children:Object(n.jsxs)(De.a,{children:[Object(n.jsx)(De.a.Img,{variant:"top",src:this.state.contentImageURL,alt:"content"}),Object(n.jsx)(De.a.Body,{children:Object(n.jsx)(De.a.Text,{children:"Content Image"})})]})}),Object(n.jsx)(Le.a,{xs:6,children:Object(n.jsxs)(De.a,{children:[Object(n.jsx)(De.a.Img,{variant:"top",src:this.state.styleImageURL,alt:"style"}),Object(n.jsx)(De.a.Body,{children:Object(n.jsx)(De.a.Text,{children:"Style Image"})})]})})]})}),Object(n.jsx)(Le.a,{xs:1,className:"d-none d-md-block"}),Object(n.jsxs)(Le.a,{xs:4,className:"d-none d-md-block mr-auto",children:[Object(n.jsx)(Se.a,{children:Object(n.jsx)(Le.a,{xs:12,children:Object(n.jsx)("h3",{className:"text-center",children:"Output"})})}),Object(n.jsx)(Le.a,{xs:12,children:Object(n.jsxs)(De.a,{children:[Object(n.jsx)(De.a.Img,{variant:"top",src:"data:image/jpeg;base64,".concat(this.props.modelForm.data.data),alt:"styled"}),Object(n.jsx)(De.a.Body,{children:Object(n.jsx)(De.a.Text,{children:"Styled Content Image"})})]})})]})]})}},{key:"renderOutput",value:function(){return this.props.play.name===this.formName?Object(n.jsxs)(Se.a,{className:"mt-5",children:[this.renderOutputSmallDisplay(),this.renderOutputLargeDisplay()]}):""}},{key:"render",value:function(){return Object(n.jsxs)(f.a,{children:[Object(n.jsx)(Se.a,{children:Object(n.jsx)(Le.a,{children:Object(n.jsx)("h1",{className:"heading",children:"Neural Style Transfer"})})}),Object(n.jsx)(Se.a,{className:"my-4",children:Object(n.jsx)(Le.a,{xs:11,lg:8,className:"mx-auto",children:Object(n.jsx)("p",{align:"justify",children:"This model uses MSG-Net to perform Neural Style Transfer. Upload your content image and select a style from one of the styles available below. The selected style will be applied to you content image."})})}),Object(n.jsxs)(Se.a,{children:[Object(n.jsx)(Le.a,{xs:12,children:Object(n.jsx)("h3",{className:"heading",children:"Available Styles"})}),Object(n.jsx)(Le.a,{children:Object(n.jsx)(Se.a,{xs:1,md:3,lg:5,children:we.a.map(this.styleMap,(function(e,t){return Object(n.jsx)(Le.a,{className:"mb-4",children:Object(n.jsxs)(De.a,{children:[Object(n.jsx)(De.a.Img,{variant:"top",src:e[1],alt:e[0]}),Object(n.jsx)(De.a.Body,{children:Object(n.jsx)(De.a.Text,{children:e[0]})})]})},t)}))})})]}),Object(n.jsx)(Se.a,{className:"my-5",children:Object(n.jsx)(Le.a,{xs:11,lg:6,className:"mx-auto",children:Object(n.jsx)(ta,{form:this.formName,onSubmit:this.onSubmit,fields:[{name:"content",contentType:"fileField",label:"Upload Content Image"},{name:"style",contentType:"dropdown",label:"Select Style Image",options:this.styleMap}],buttonText:{originalText:"Style",loadingText:"Styling"}})})}),this.renderOutput()]})}}]),a}(r.a.Component),ra=Object(o.b)((function(e){return{play:e.play}}),{submitPlaygroundForm:Ce})(sa),ca=a(157),ia=function(e){Object(j.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).trainingSectionRef=r.a.createRef(),n.inferenceSectionRef=r.a.createRef(),n.trainingSnapshots=[{image:"".concat("/Flash","/assets/media/training_page.png"),text:"Training page"},{image:"".concat("/Flash","/assets/media/img_classification_data_upload.png"),text:"Image classification data upload"},{image:"".concat("/Flash","/assets/media/tc_data_upload.png"),text:"Text classification data upload"}],n.inferenceSnapshots=[{image:"".concat("/Flash","/assets/media/tc_inference_form.png"),text:"Inference results"},{image:"".concat("/Flash","/assets/media/img_classification_prediction.png"),text:"Image classification prediction"},{image:"".concat("/Flash","/assets/media/inference_page.png"),text:"Inference page"}],n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.location.state;e&&("training"===e.targetSection?this.trainingSectionRef.current.scrollIntoView({behaviour:"smooth"}):"inference"===e.targetSection&&this.inferenceSectionRef.current.scrollIntoView({behaviour:"smooth"}))}},{key:"renderFlash",value:function(){return Object(n.jsx)("mark",{children:Object(n.jsxs)("b",{children:[Object(n.jsx)(g.a,{src:"".concat("/Flash","/flash.svg"),style:{height:"1.8vh"},alt:"flash logo"})," ","F L A S H"]})})}},{key:"renderImageClassificationInfo",value:function(){return Object(n.jsxs)(Se.a,{children:[Object(n.jsxs)(Le.a,{xs:12,md:7,className:"my-auto",children:[Object(n.jsx)("h3",{className:"mb-3",children:"Image Classification"}),Object(n.jsxs)("p",{children:["Classify images from your own dataset by using them to train a"," ",Object(n.jsx)("mark",{children:Object(n.jsx)("b",{children:"ResNet-34"})})," ","or"," ",Object(n.jsx)("mark",{children:Object(n.jsx)("b",{children:"MobileNet v2"})})," ","model."]}),Object(n.jsx)("p",{children:"Training happens via transfer learning where models available will be pre-trained on the ImageNet dataset."})]}),Object(n.jsx)(Le.a,{xs:12,md:5,className:"my-auto",children:Object(n.jsx)(De.a,{className:"mx-auto mt-4",children:Object(n.jsx)(De.a.Img,{variant:"top",as:"video",playsInline:"playsinline",autoPlay:"autoplay",muted:"muted",children:Object(n.jsx)("source",{src:"".concat("/Flash","/assets/media/imageClassification.mp4"),type:"video/mp4"})})})})]})}},{key:"renderTextClassificationInfo",value:function(){return Object(n.jsxs)(Se.a,{className:"my-5",children:[Object(n.jsxs)(Le.a,{xs:12,md:7,className:"my-auto",children:[Object(n.jsx)("h3",{className:"mb-3",children:"Text Classification"}),Object(n.jsxs)("p",{children:["Classify sentences by training a"," ",Object(n.jsx)("mark",{children:Object(n.jsx)("b",{children:"LSTM"})})," ","or"," ",Object(n.jsx)("mark",{children:Object(n.jsx)("b",{children:"GRU"})})," ","based sequential model on your own dataset."]}),Object(n.jsx)("p",{children:"The models will be trained from scratch."})]}),Object(n.jsx)(Le.a,{xs:12,md:5,className:"my-auto",children:Object(n.jsx)(De.a,{className:"mx-auto mt-4",children:Object(n.jsx)(De.a.Img,{variant:"top",as:"video",playsInline:"playsinline",autoPlay:"autoplay",muted:"muted",children:Object(n.jsx)("source",{src:"".concat("/Flash","/assets/media/textClassification.mp4"),type:"video/mp4"})})})})]})}},{key:"renderSnapshots",value:function(e){return Object(n.jsx)(Se.a,{xs:1,md:3,className:"mx-auto mt-4",children:e.map((function(e){return Object(n.jsx)(Le.a,{className:"mb-3",children:Object(n.jsx)(De.a,{className:"card-hover shadow bg-white rounded",children:Object(n.jsx)(De.a.Img,{variant:"top",className:"img-fluid",src:e.image,alt:e.text})})},e.text)}))})}},{key:"renderTrainingInfo",value:function(){return Object(n.jsxs)("div",{ref:this.trainingSectionRef,children:[Object(n.jsx)("h3",{className:"mb-3 mt-5",children:"Training"}),Object(n.jsxs)("p",{children:["For training a model, you'll have to ",Object(n.jsx)("b",{children:"upload your own dataset"})," ","and ",Object(n.jsx)("b",{children:"select the model parameters"}),". Depending on the size of the dataset, the model can take anywhere between"," ",Object(n.jsxs)("b",{children:[Object(n.jsx)("mark",{children:"3 - 10 minutes"})," to train and deploy your model"]}),"."]}),Object(n.jsxs)("p",{children:["After you upload your configuration, the platform will assign you a unique"," ",Object(n.jsx)("mark",{children:Object(n.jsx)("b",{children:"token"})}),". Please save the token as it will used to test the model on the"," ",Object(n.jsx)(Me.a,{to:"/inference",children:"inference page"}),"."]}),Object(n.jsxs)("p",{children:["To train a model, ",Object(n.jsx)(Me.a,{to:"/training",children:"go here"}),"."]}),this.renderSnapshots(this.trainingSnapshots)]})}},{key:"renderInferenceInfo",value:function(){return Object(n.jsxs)("div",{ref:this.inferenceSectionRef,children:[Object(n.jsx)("h3",{className:"mb-3 mt-5",children:"Inference"}),Object(n.jsxs)("p",{children:["You can perform inference on a trained model by using the"," ",Object(n.jsx)("b",{children:Object(n.jsx)("mark",{children:"token"})})," ","provided to you after submitting the training configuration on the"," ",Object(n.jsx)(Me.a,{to:"/training",children:"training page"}),"."]}),Object(n.jsxs)("p",{children:["After submitting the token, you'll get a form where you can upload inputs to check the performance of your trained model. The inference page also provides you with the ",Object(n.jsx)("b",{children:"results of the training process"})," ","by showing you the"," ",Object(n.jsx)("b",{children:Object(n.jsx)("mark",{children:"accuracy"})})," ","of the model ",Object(n.jsx)("b",{children:"on validation set"})," as well as the"," ",Object(n.jsx)("b",{children:Object(n.jsx)("mark",{children:"change in accuracy"})})," ","during training."]}),Object(n.jsxs)("p",{children:["To test your model, ",Object(n.jsx)(Me.a,{to:"/inference",children:"go here"}),"."]}),this.renderSnapshots(this.inferenceSnapshots)]})}},{key:"render",value:function(){return Object(n.jsxs)(f.a,{style:{fontSize:"1.6vh"},children:[Object(n.jsxs)("h1",{className:"heading",children:["About"," ",Object(n.jsx)(g.a,{src:"".concat("/Flash","/flash.svg"),style:{height:"8vh"},alt:"flash logo"})," ","Flash"]}),Object(n.jsx)(Se.a,{children:Object(n.jsxs)(Le.a,{xs:12,className:"mx-auto",children:[Object(n.jsxs)("p",{className:"text-center mb-5",children:[this.renderFlash(),"\xa0\xa0\xa0 is an ",Object(n.jsx)("b",{children:"end-to-end Deep Learning"})," platform which allows users to create, train and deploy their own neural network models in a matter of minutes without writing a single line of code."]}),Object(n.jsx)("p",{children:"The platform currently supports two types of tasks:"}),this.renderImageClassificationInfo(),this.renderTextClassificationInfo(),Object(n.jsx)("hr",{className:"my-5"}),Object(n.jsx)("h2",{children:"How It Works"}),Object(n.jsxs)("p",{className:"my-4",children:["Using ",this.renderFlash()," is easy. With just a few clicks you can train and deploy your models automatically. You just have to select your model and upload the dataset, and you're good to go."," ",Object(n.jsx)("b",{children:"No code or experience required."})]}),this.renderTrainingInfo(),this.renderInferenceInfo(),Object(n.jsx)("hr",{className:"my-5"}),Object(n.jsxs)("p",{children:["The source code of the project is hosted on GitHub. Please"," ",Object(n.jsx)("a",{href:"https://github.com/shan18/Flash",target:"_blank",rel:"noreferrer",children:"click here"})," ","to visit."]}),Object(n.jsx)("p",{className:"mt-4",children:"To know about the author, check the links below"}),Object(n.jsxs)("p",{children:[Object(n.jsx)("a",{className:"anchor-black",href:"https://github.com/shan18",target:"_blank",rel:"noreferrer",children:Object(n.jsx)(ct.b,{size:25,title:"GitHub: shan18"})}),Object(n.jsx)("a",{className:"anchor-black",href:"https://www.linkedin.com/in/shanacharya/",target:"_blank",rel:"noreferrer",children:Object(n.jsx)(ct.c,{size:25,title:"LinkedIn: shanacharya",className:"mx-3"})}),Object(n.jsx)("a",{className:"anchor-black",href:"https://www.instagram.com/shan_1.0/",target:"_blank",rel:"noreferrer",children:Object(n.jsx)(ca.a,{size:25,title:"Instagram: shan_1.0"})})]})]})})]})}}]),a}(r.a.Component),oa=(a(313),a(314),function(e){Object(j.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"resize",value:function(){this.props.setMobile(window.innerWidth<=767)}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.resize.bind(this)),this.resize()}},{key:"render",value:function(){return Object(n.jsx)(b.b,{history:x,children:Object(n.jsxs)("div",{className:"page-container",children:[Object(n.jsxs)("div",{className:"content-wrap",children:[Object(n.jsx)(h.a,{position:"top-center",autoClose:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,style:{width:"40%"}}),Object(n.jsx)(Ue,{}),Object(n.jsxs)(b.c,{children:[Object(n.jsx)(b.a,{path:"/",exact:!0,component:Re}),Object(n.jsx)(b.a,{path:"/training",exact:!0,component:Bt}),Object(n.jsx)(b.a,{path:"/inference",exact:!0,component:Zt}),Object(n.jsx)(b.a,{path:"/playground",exact:!0,component:Qt}),Object(n.jsx)(b.a,{path:"/playground/humanposeestimation",exact:!0,component:na}),Object(n.jsx)(b.a,{path:"/playground/styletransfer",exact:!0,component:ra}),Object(n.jsx)(b.a,{path:"/about",exact:!0,component:ia})]})]}),Object(n.jsx)(Ge,{})]})})}}]),a}(r.a.Component)),la=Object(o.b)(null,{setMobile:function(e){return{type:T,payload:e}}})(oa),ma=a(151),ua=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return t.payload;default:return e}},da=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return t.payload;default:return e}},ja=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return!0;case S:return!1;default:return e}},pa=a(59),ba=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return[].concat(Object(pa.a)(e),[t.payload]);case I:return e.filter((function(e){return e!==t.payload}));default:return e}},ha=a(43),Oa={},xa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:return Object(He.a)(Object(He.a)({},e),{},Object(ha.a)({},t.payload.taskName,t.payload.label));case D:return we.a.omit(e,t.payload);default:return e}},fa={configOptions:{},currentClass:"",currentConfig:{modelType:"",dataSplit:""},dataset:{},datasetSize:{},datasetPreview:{}},ga=function(){var e,t,a,n,s,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fa,c=arguments.length>1?arguments[1]:void 0;switch(c.type){case z:return Object(He.a)(Object(He.a)({},r),{},{configOptions:we.a.omit(c.payload,"currentConfig"),currentConfig:c.payload.currentConfig});case R:return n=Object(He.a)(Object(He.a)({},r.currentConfig),{},{modelType:c.payload}),Object(He.a)(Object(He.a)({},r),{},{currentConfig:n});case E:return n=Object(He.a)(Object(He.a)({},r.currentConfig),{},{dataSplit:c.payload}),Object(He.a)(Object(He.a)({},r),{},{currentConfig:n});case _:return e=Object(He.a)(Object(He.a)({},r.dataset),{},Object(ha.a)({},c.payload,[])),t=Object(He.a)(Object(He.a)({},r.datasetSize),{},Object(ha.a)({},c.payload,0)),a=Object(He.a)(Object(He.a)({},r.datasetPreview),{},Object(ha.a)({},c.payload,[])),Object(He.a)(Object(He.a)({},r),{},{dataset:e,datasetSize:t,datasetPreview:a});case A:return e=we.a.omit(r.dataset,c.payload),t=we.a.omit(r.datasetSize,c.payload),a=we.a.omit(r.datasetPreview,c.payload),s=r.currentClass===c.payload?fa.currentClass:r.currentClass,Object(He.a)(Object(He.a)({},r),{},{dataset:e,datasetSize:t,datasetPreview:a,currentClass:s});case U:return Object(He.a)(Object(He.a)({},r),{},{currentClass:c.payload});case B:return e=Object(He.a)(Object(He.a)({},r.dataset),{},Object(ha.a)({},r.currentClass,[].concat(Object(pa.a)(r.dataset[r.currentClass]),Object(pa.a)(c.payload.imagesList)))),t=Object(He.a)(Object(He.a)({},r.datasetSize),{},Object(ha.a)({},r.currentClass,r.datasetSize[r.currentClass]+c.payload.imagesListSize)),a=Object(He.a)(Object(He.a)({},r.datasetPreview),{},Object(ha.a)({},r.currentClass,[].concat(Object(pa.a)(r.datasetPreview[r.currentClass]),Object(pa.a)(c.payload.imagesListPreview)))),Object(He.a)(Object(He.a)({},r),{},{dataset:e,datasetSize:t,datasetPreview:a});case G:return Object(He.a)(Object(He.a)({},r),we.a.omit(fa,"configOptions","currentConfig"));case V:return Object(He.a)(Object(He.a)({},r),fa);default:return r}},ya={configOptions:{},currentConfig:{modelType:"",dataSplit:""},dataset:null},va=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ya,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case H:return Object(He.a)(Object(He.a)({},t),{},{configOptions:we.a.omit(a.payload,"currentConfig"),currentConfig:a.payload.currentConfig});case q:return e=Object(He.a)(Object(He.a)({},t.currentConfig),{},{modelType:a.payload}),Object(He.a)(Object(He.a)({},t),{},{currentConfig:e});case Y:return e=Object(He.a)(Object(He.a)({},t.currentConfig),{},{dataSplit:a.payload}),Object(He.a)(Object(He.a)({},t),{},{currentConfig:e});case W:return Object(He.a)(Object(He.a)({},t),{},{dataset:a.payload});case $:return Object(He.a)(Object(He.a)({},t),we.a.omit(ya,"configOptions","currentConfig"));case J:return Object(He.a)(Object(He.a)({},t),ya);default:return t}},Na=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:return Object(He.a)(Object(He.a)({},e),{},{token:t.payload});case P:return Object(He.a)(Object(He.a)({},e),{},{token:""});default:return e}},ka=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X:return Object(He.a)(Object(He.a)({},e),t.payload);case K:return we.a.omit(e,"token","prediction","accuracy","accuracyPlot");case Z:return Object(He.a)(Object(He.a)({},e),{},{prediction:t.payload});case ne:return we.a.omit(e,"prediction");case Q:return Object(He.a)(Object(He.a)({},e),{},{downloadUrlPytorch:t.payload.downloadUrl});case ee:return we.a.omit(e,"downloadUrlPytorch");case te:return Object(He.a)(Object(He.a)({},e),{},{downloadUrlOnnx:t.payload.downloadUrl});case ae:return we.a.omit(e,"downloadUrlOnnx");case se:return{};default:return e}},Ca={name:"",data:null},Ta=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ca,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re:return Object(He.a)(Object(He.a)({},e),t.payload);default:return e}},wa=Object(l.c)({form:ma.a,navigationLinks:ua,isMobile:da,isHome:ja,loadingForm:ba,formFileField:xa,imageClassification:ga,textClassification:va,serverConfig:Na,inference:ka,play:Ta}),Sa=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.d,La=Object(l.e)(wa,Sa(Object(l.a)(m.a)));i.a.render(Object(n.jsx)(o.a,{store:La,children:Object(n.jsx)(la,{})}),document.querySelector("#root"))},81:function(e,t,a){}},[[315,1,2]]]);
//# sourceMappingURL=main.00360b64.chunk.js.map